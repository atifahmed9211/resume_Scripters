{"version":3,"sources":["./src/app/admin/package/create-package/create-package.component.ts","./src/app/admin/package/package-routing.module.ts","./src/app/admin/package/package.module.ts","./src/app/admin/package/create-package/create-package.component.html","./src/app/admin/package/packages/packages.component.html","./src/app/admin/package/create-package/create-package.component.scss","./src/app/admin/package/packages/packages.component.scss","./src/app/admin/package/packages/packages.component.ts"],"names":[],"mappings":"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","file":"package-package-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdminService } from '../../admin.service';\n\n@Component({\n  selector: 'app-create-package',\n  templateUrl: './create-package.component.html',\n  styleUrls: ['./create-package.component.scss']\n})\nexport class CreatePackageComponent implements OnInit {\n\n  public packageForm = this.fb.group({\n    id           : [null],\n    title        : ['',[Validators.required]],\n    description  : ['',[Validators.required]],\n    price        : ['',[Validators.required]],\n    services     : ['',[Validators.required]],\n    service_type : ['',[Validators.required]]\n  });\n\n  public services = [];\n  public btnText  = 'Submit';\n\n  constructor(\n    private fb    :FormBuilder,\n    private as    : AdminService,\n    private router: ActivatedRoute,\n    private route : Router\n  ) { }\n\n  ngOnInit(): void {\n    this.getServices();\n    let id = this.router.snapshot.paramMap.get(\"id\");\n    if(id){\n      this.getPackage(id);\n    }\n  }\n\n  createPackage(){\n    let pkg = this.packageForm.value;\n    if(pkg.id){\n      this.as.updatePackage(pkg).subscribe((res)=>{\n        this.route.navigateByUrl(\"/admin/package/all\");\n      },\n      (error)=>{\n        console.log(error);\n      })\n    }else{\n      this.as.createPackage(pkg).subscribe((res)=>{\n        this.route.navigateByUrl(\"/admin/package/all\");\n      },\n      (error)=>{\n        console.log(error);\n      });\n    }\n    \n  }\n\n  getPackage(id){\n    this.as.getPackageById(id).subscribe((res)=>{\n      let pkg         = res.package;\n      let servicesIds = [];\n      pkg.services.forEach(element => {\n        servicesIds.push(element.id);\n      });\n      console.log(servicesIds);\n      this.packageForm.patchValue({\n        id          : pkg.id,\n        title       : pkg.title,\n        description : pkg.description,\n        price       : pkg.price,\n        services    : servicesIds,\n        service_type: pkg.service_types[0].name\n      });\n      this.btnText = \"Update\";\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n  getServices(){\n    this.as.getAllServices().subscribe((res)=>{\n      console.log(res);\n      this.services = res.services;\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CreatePackageComponent } from './create-package/create-package.component';\nimport { PackagesComponent } from './packages/packages.component';\n\nconst routes: Routes = [\n  {\n    path:\"\",\n    data: {\n      title: 'Packages'\n    },\n    children:[\n      {\n        path:'all',\n        component:PackagesComponent,\n        data: {\n          title: 'All Packages'\n        }\n      },\n      {\n        path:\"edit/:id\",\n        component:CreatePackageComponent,\n        data: {\n          title: 'Update Package'\n        }\n      },\n      {\n        path:'create',\n        component:CreatePackageComponent,\n        data: {\n          title: 'Create Package'\n        }\n      },\n      {\n        path:'',\n        redirectTo:\"all\"\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PackageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PackageRoutingModule } from './package-routing.module';\nimport { PackagesComponent } from './packages/packages.component';\nimport { CreatePackageComponent } from './create-package/create-package.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DataTablesModule } from 'angular-datatables';\n\n\n@NgModule({\n  declarations: [PackagesComponent, CreatePackageComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    DataTablesModule,\n    PackageRoutingModule\n  ]\n})\nexport class PackageModule { }\n","export default \"<div class=\\\"animated fadeIn\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12\\\">\\n            <form [formGroup]=\\\"packageForm\\\" (submit)=\\\"createPackage()\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"title\\\">Title:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter Title\\\" id=\\\"title\\\" formControlName=\\\"title\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"description\\\">Description:</label>\\n                    <textarea class=\\\"form-control\\\" rows=\\\"5\\\" id=\\\"description\\\" formControlName=\\\"description\\\"></textarea>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"price\\\">Price:</label>\\n                    <input type=\\\"number\\\" min=\\\"0\\\" class=\\\"form-control\\\" placeholder=\\\"Enter Price\\\" id=\\\"price\\\" formControlName=\\\"price\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"services\\\">Select Services:</label>\\n                    <select class=\\\"form-control\\\" id=\\\"services\\\" formControlName=\\\"services\\\" multiple>\\n                      <option *ngFor=\\\"let service of services;let i=index\\\" value=\\\"{{service.id}}\\\" [selected]=\\\"packageForm.get('services').value.indexOf(service.id)!=-1\\\">{{service.title}}</option>\\n                    </select>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"service_type\\\">Select Service Type:</label>\\n                    <select class=\\\"form-control\\\" id=\\\"service_type\\\" formControlName=\\\"service_type\\\">\\n                      <option value=\\\"Private Sector\\\">Private Sector</option>\\n                      <option value=\\\"Federal\\\">Federal</option>\\n                    </select>\\n                </div>\\n                  \\n                <button type=\\\"submit\\\" [disabled]=\\\"!packageForm.valid\\\" class=\\\"btn btn-success float-right\\\">{{btnText}}</button>\\n            </form>\\n        </div>\\n    </div>\\n</div>\";","export default \"<div class=\\\"animated fadeIn\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12\\\">\\n            <table datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\" class=\\\"table\\\">\\n                <thead>\\n                  <tr>\\n                    <th>#</th>\\n                    <th>Title</th>\\n                    <th>Description</th>\\n                    <th>Price</th>\\n                    <th>Services</th>\\n                    <th>Service Type</th>\\n                    <th>Actions</th>\\n                  </tr>\\n                </thead>\\n                <tbody *ngIf=\\\"packages?.length != 0\\\">\\n                  <tr *ngFor=\\\"let package of packages; let i = index\\\">\\n                    <td>{{ i + 1 }}</td>\\n                    <td>{{ package.title }}</td>\\n                    <td>{{ package.description }}</td>\\n                    <td>{{ package.price }}</td>\\n                    <td>\\n                        <p *ngFor=\\\"let service of package.services\\\">{{service.title}}</p>\\n                    </td>\\n                    <td>{{ package.service_types[0].name }}</td>\\n                    <td>\\n                        <a routerLink=\\\"../edit/{{package.id}}\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-edit\\\"></i></a>\\n                        <a href=\\\"javascript:;\\\" (click)=\\\"deletePackage(package.id)\\\" class=\\\"btn btn-danger\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\n                    </td>\\n                  </tr>\\n                </tbody>\\n                <tbody *ngIf=\\\"packages?.length == 0\\\">\\n                    <tr>\\n                        <td colspan=\\\"6\\\" class=\\\"no-data-available text-center\\\">No data!</td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n    </div>\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjcmVhdGUtcGFja2FnZS5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYWNrYWdlcy5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { AdminService } from '../../admin.service';\n\n@Component({\n  selector: 'app-packages',\n  templateUrl: './packages.component.html',\n  styleUrls: ['./packages.component.scss']\n})\nexport class PackagesComponent implements OnInit,OnDestroy {\n  dtOptions : DataTables.Settings = {};\n  dtTrigger : Subject<any>        = new Subject<any>();\n  packages  : any                 = [];\n  dtInitial : boolean             = false\n  constructor(\n    private as:AdminService\n  ) { }\n\n  ngOnInit(): void {\n    this.getPackages();\n  }\n\n  getPackages(){\n    this.as.getAllPackages().subscribe((res)=>{\n      this.packages = res.packages;\n      this.dtTrigger.next();\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n  deletePackage(id){\n    this.as.deletePackageById(id).subscribe((res)=>{\n      console.log(res);\n      this.getPackages();\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n  ngOnDestroy(): void {\n    // Do not forget to unsubscribe the event\n    this.dtTrigger.unsubscribe();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}