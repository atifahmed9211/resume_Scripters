{"version":3,"sources":["webpack:///node_modules/ngx-bootstrap/positioning/fesm2015/ngx-bootstrap-positioning.js","webpack:///node_modules/ngx-bootstrap/dropdown/fesm2015/ngx-bootstrap-dropdown.js","webpack:///node_modules/ngx-bootstrap/utils/fesm2015/ngx-bootstrap-utils.js","webpack:///node_modules/ngx-bootstrap/component-loader/fesm2015/ngx-bootstrap-component-loader.js"],"names":["getStyleComputedProperty","element","property","nodeType","window","ownerDocument","defaultView","css","getComputedStyle","getParentNode","nodeName","parentNode","host","getScrollParent","document","body","overflow","overflowX","overflowY","test","String","isBrowser","isIE11","MSInputMethodContext","documentMode","isIE10","navigator","userAgent","isIE","version","getOffsetParent","documentElement","noOffsetParent","offsetParent","sibling","nextElementSibling","indexOf","isOffsetContainer","firstElementChild","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getBordersSize","styles","axis","sideA","sideB","parseFloat","getSize","html","computedStyle","Math","max","parseInt","getWindowSizes","height","width","getScroll","side","upperSide","scrollingElement","getClientRect","offsets","Object","assign","right","left","bottom","top","getBoundingClientRect","rect","scrollTop","scrollLeft","e","undefined","result","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","includeScroll","subtract","modifier","getOffsetRectRelativeToArbitraryNode","children","parent","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","offset","Number","isFixed","getFixedPositionOffsetParent","parentElement","el","getBoundaries","target","padding","boundariesElement","boundaries","boundariesNode","getArea","computeAutoPlacement","placement","refRect","allowedPositions","rects","sortedAreas","keys","map","key","area","sort","a","b","filteredAreas","filter","position","some","allowedPosition","computedPlacement","length","variation","split","className","replace","getOffsets","data","floor","round","getOppositePlacement","hash","matched","getOppositeVariation","getOuterSizes","x","marginBottom","y","marginRight","getReferenceOffsets","commonOffsetParent","getTargetOffsets","hostOffsets","targetRect","targetOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","isModifierEnabled","options","modifierName","modifiers","enabled","isNumeric","n","isNaN","isFinite","updateContainerClass","renderer","instance","containerClass","placementAuto","setAttribute","setStyles","forEach","prop","unit","setStyle","style","arrow","arrowElement","querySelector","isVertical","len","sideCapitalized","toLowerCase","altSide","opSide","arrowElementSize","placementVariation","targetMarginSide","targetBorderSide","center","targetBorderRadius","borderRadius","targetSideArrowOffset","sideValue","min","flip","offsetsHost","adaptivePosition","flipOrder","step","index","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","initData","targetElement","hostElement","hostElPosition","match","matches","targetOffset","positionFixed","preventOverflow","transformProp","targetStyles","transform","check","primary","value","secondary","shift","basePlacement","shiftVariation","shiftOffsets","Positioning","appendToBody","chainOfModifiers","reduce","modifiedData","positionService","positionElements","PositioningOptions","PositioningService","ngZone","rendererFactory","platformId","update$$","Map","isDisabled","runOutsideAngular","triggerEvent$","passive","subscribe","positionElement","_getHtmlElement","attachment","createRenderer","addPositionElement","set","next","elRef","ɵfac","PositioningService_Factory","t","ɵprov","token","factory","ctorParameters","type","decorators","args","ngDevMode","nativeElement","_c0","BsDropdownConfig","autoClose","insideClick","isAnimated","BsDropdownConfig_Factory","providedIn","BsDropdownState","direction","isOpenChange","isDisabledChange","toggleClick","dropdownMenu","Promise","resolve","resolveDropdownMenu","BsDropdownState_Factory","DROPDOWN_ANIMATION_TIMING","dropdownAnimation","BsDropdownContainerComponent","_state","cd","_renderer","_element","_builder","isOpen","_factoryDropDownAnimation","build","_subscription","dropdown","addClass","classList","create","play","markForCheck","detectChanges","unsubscribe","BsDropdownContainerComponent_Factory","ɵcmp","selectors","hostAttrs","ngContentSelectors","decls","vars","template","BsDropdownContainerComponent_Template","rf","ctx","directives","BsDropdownDirective","encapsulation","changeDetection","selector","OnPush","_elementRef","_viewContainerRef","_cis","_config","_isInlineOpen","_subscriptions","_isInited","_dropdown","createLoader","provide","useValue","onShown","onHidden","_isDisabled","emit","hide","_showInline","isShown","show","container","listen","outsideClick","triggers","push","toggle","pipe","_inlinedMenu","then","attachInline","viewContainer","templateRef","_inlineViewRef","addBs4Polyfills","rootNodes","playAnimation","_dropup","dropup","_placement","attach","to","content","removeShowClass","removeDropupStyles","event","_contains","sub","dispose","addShowClass","checkRightAlignment","addDropupStyles","setTimeout","removeClass","isRightAligned","removeStyle","BsDropdownDirective_Factory","ɵdir","hostVars","hostBindings","BsDropdownDirective_HostBindings","isBs4","inputs","outputs","exportAs","features","propDecorators","providers","BsDropdownMenuDirective","_viewContainer","_templateRef","BsDropdownMenuDirective_Factory","BsDropdownToggleDirective","_changeDetectorRef","_documentClickListener","button","_escKeyUpListener","BsDropdownToggleDirective_Factory","BsDropdownToggleDirective_HostBindings","BsDropdownToggleDirective_click_HostBindingHandler","onClick","BsDropdownModule","config","ngModule","BsDropdownModule_Factory","ɵmod","ɵinj","ngJitMode","declarations","exports","entryComponents","Trigger","open","close","ListenOptions","DEFAULT_ALIASES","hover","focus","parseTriggers","aliases","trimmedTriggers","trim","parsedTriggers","trigger","triggerPair","alias","manualTriggers","isManual","Error","listenToTriggers","showFn","hideFn","toggleFn","listeners","Function","prototype","unsubscribeFn","listenToTriggersV2","_registerHide","registerHide","fn","useToggle","registerOutsideClick","targets","registerEscClick","outsideEsc","win","document$1","location","gc","performance","Event","MouseEvent","KeyboardEvent","EventTarget","History","Location","EventListener","guessedVersion","_guessBsVersion","spanEl","createElement","innerText","appendChild","add","removeChild","setTheme","theme","isBs3","__theme","LinkedList","asArray","current","head","previous","tail","currentPreviousNode","getNode","currentNextNode","createInternalArrayRepresentation","removedNode","arg","last","remove","reverse","lastItem","outArray","OnChange","defaultValue","sufix","OnChangeHandler","propertyKey","_key","defineProperty","get","prevValue","Utils","bs","elem","view","opener","_messagesHash","_hideMsg","console","warnOnce","msg","warn","BsComponentRef","ContentRef","nodes","viewRef","componentRef","ComponentLoader","_injector","_componentFactoryResolver","_ngZone","_applicationRef","_posService","onBeforeShow","onBeforeHide","_providers","_isHiding","containerDefaultSelector","_listenOpts","_globalListener","_componentRef","compType","_componentFactory","resolveComponentFactory","opts","provider","_subscribePositioning","_innerComponent","_contentRef","_getContentRef","context","initialState","injector","attachView","hostView","selectedElement","changeDetectorRef","id","_registerOutsideClick","deletePositionElement","componentEl","destroy","_removeGlobalListener","_unsubscribePositioning","_unregisterListenersFn","listenOpts","vRef","createEmbeddedView","_zoneSubscription","onStable","calcPosition","_viewRef","contentCmptFactory","modalContentInjector","createText","ComponentLoaderFactory","ComponentLoaderFactory_Factory"],"mappings":"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","file":"default~admin-admin-module~user-user-module~website-website-module-es5.js","sourcesContent":["import { Injectable, NgZone, RendererFactory2, Inject, PLATFORM_ID, ElementRef } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, merge, fromEvent, of, animationFrameScheduler } from 'rxjs';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get CSS computed property of the given element\n * @param {?} element\n * @param {?=} property\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction getStyleComputedProperty(element, property) {\n    if (element.nodeType !== 1) {\n        return [];\n    }\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const css = window.getComputedStyle(element, null);\n    return property ? css[(/** @type {?} */ (property))] : css;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Returns the parentNode or the host of the element\n * @param {?} element\n * @return {?}\n */\nfunction getParentNode(element) {\n    if (element.nodeName === 'HTML') {\n        return element;\n    }\n    return element.parentNode || element.host;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getScrollParent(element) {\n    // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n    if (!element) {\n        return document.body;\n    }\n    switch (element.nodeName) {\n        case 'HTML':\n        case 'BODY':\n            return element.ownerDocument.body;\n        case '#document':\n            return element.body;\n        default:\n    }\n    // Firefox want us to check `-x` and `-y` variations as well\n    const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n    if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\n        return element;\n    }\n    return getScrollParent(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isIE11 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && ((/** @type {?} */ (document))).documentMode);\n/** @type {?} */\nconst isIE10 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && /MSIE 10/.test(((/** @type {?} */ (navigator))).userAgent));\n/**\n * @param {?=} version\n * @return {?}\n */\nfunction isIE(version) {\n    if (version === 11) {\n        return isIE11;\n    }\n    if (version === 10) {\n        return isIE10;\n    }\n    return isIE11 || isIE10;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getOffsetParent(element) {\n    if (!element) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    const noOffsetParent = isIE(10) ? document.body : null;\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let offsetParent = element.offsetParent || null;\n    // Skip hidden elements which don't have an offsetParent\n    /** @type {?} */\n    let sibling;\n    while (offsetParent === noOffsetParent\n        && element.nextElementSibling\n        && sibling !== element.nextElementSibling) {\n        sibling = element.nextElementSibling;\n        offsetParent = sibling.offsetParent;\n    }\n    /** @type {?} */\n    const nodeName = offsetParent && offsetParent.nodeName;\n    if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n        return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\n    }\n    // .offsetParent will return the closest TH, TD or TABLE in case\n    if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n        getStyleComputedProperty(offsetParent, 'position') === 'static') {\n        return getOffsetParent(offsetParent);\n    }\n    return offsetParent;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isOffsetContainer(element) {\n    const { nodeName } = element;\n    if (nodeName === 'BODY') {\n        return false;\n    }\n    return (nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @param {?} node\n * @return {?}\n */\nfunction getRoot(node) {\n    if (node.parentNode !== null) {\n        return getRoot(node.parentNode);\n    }\n    return node;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element1\n * @param {?} element2\n * @return {?}\n */\nfunction findCommonOffsetParent(element1, element2) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n        return document.documentElement;\n    }\n    // Here we make sure to give as \"start\" the element that comes first in the DOM\n    /* tslint:disable-next-line: no-bitwise */\n    /** @type {?} */\n    const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n    /** @type {?} */\n    const start = order ? element1 : element2;\n    /** @type {?} */\n    const end = order ? element2 : element1;\n    // Get common ancestor container\n    /** @type {?} */\n    const range = document.createRange();\n    range.setStart(start, 0);\n    range.setEnd(end, 0);\n    const { commonAncestorContainer } = range;\n    // Both nodes are inside #document\n    if ((element1 !== commonAncestorContainer &&\n        element2 !== commonAncestorContainer) ||\n        start.contains(end)) {\n        if (isOffsetContainer(commonAncestorContainer)) {\n            return commonAncestorContainer;\n        }\n        return getOffsetParent(commonAncestorContainer);\n    }\n    // one of the nodes is inside shadowDOM, find which one\n    /** @type {?} */\n    const element1root = getRoot(element1);\n    if (element1root.host) {\n        return findCommonOffsetParent(element1root.host, element2);\n    }\n    else {\n        return findCommonOffsetParent(element1, getRoot(element2).host);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper to detect borders of a given element\n */\n/**\n * @param {?} styles\n * @param {?} axis\n * @return {?}\n */\nfunction getBordersSize(styles, axis) {\n    /** @type {?} */\n    const sideA = axis === 'x' ? 'Left' : 'Top';\n    /** @type {?} */\n    const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n    return (parseFloat(styles[(/** @type {?} */ (`border${sideA}Width`))]) +\n        parseFloat(styles[(/** @type {?} */ (`border${sideB}Width`))]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} axis\n * @param {?} body\n * @param {?} html\n * @param {?} computedStyle\n * @return {?}\n */\nfunction getSize(axis, body, html, computedStyle) {\n    return Math.max(((/** @type {?} */ (body)))[`offset${axis}`], ((/** @type {?} */ (body)))[`scroll${axis}`], ((/** @type {?} */ (html)))[`client${axis}`], ((/** @type {?} */ (html)))[`offset${axis}`], ((/** @type {?} */ (html)))[`scroll${axis}`], isIE(10)\n        ? (parseInt(((/** @type {?} */ (html)))[`offset${axis}`], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Top' : 'Left'}`))], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Bottom' : 'Right'}`))], 10))\n        : 0);\n}\n/**\n * @param {?} document\n * @return {?}\n */\nfunction getWindowSizes(document) {\n    /** @type {?} */\n    const body = document.body;\n    /** @type {?} */\n    const html = document.documentElement;\n    /** @type {?} */\n    const computedStyle = isIE(10) && getComputedStyle(html);\n    return {\n        height: getSize('Height', body, html, computedStyle),\n        width: getSize('Width', body, html, computedStyle)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @param {?} element\n * @param {?=} side\n * @return {?}\n */\nfunction getScroll(element, side = 'top') {\n    /** @type {?} */\n    const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        /** @type {?} */\n        const html = element.ownerDocument.documentElement;\n        /** @type {?} */\n        const scrollingElement = element.ownerDocument.scrollingElement || html;\n        return scrollingElement[upperSide];\n    }\n    return element[upperSide];\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} offsets\n * @return {?}\n */\nfunction getClientRect(offsets) {\n    return Object.assign(Object.assign({}, offsets), { right: offsets.left + offsets.width, bottom: offsets.top + offsets.height });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getBoundingClientRect(element) {\n    /** @type {?} */\n    let rect = {};\n    // IE10 10 FIX: Please, don't ask, the element isn't\n    // considered in DOM in some circumstances...\n    // This isn't reproducible in IE10 compatibility mode of IE11\n    try {\n        if (isIE(10)) {\n            rect = element.getBoundingClientRect();\n            /** @type {?} */\n            const scrollTop = getScroll(element, 'top');\n            /** @type {?} */\n            const scrollLeft = getScroll(element, 'left');\n            rect.top += scrollTop;\n            rect.left += scrollLeft;\n            rect.bottom += scrollTop;\n            rect.right += scrollLeft;\n        }\n        else {\n            rect = element.getBoundingClientRect();\n        }\n    }\n    catch (e) {\n        return undefined;\n    }\n    /** @type {?} */\n    const result = {\n        left: rect.left,\n        top: rect.top,\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n    };\n    // subtract scrollbar size from sizes\n    /** @type {?} */\n    const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n    /** @type {?} */\n    const width = sizes.width || element.clientWidth || result.right - result.left;\n    /** @type {?} */\n    const height = sizes.height || element.clientHeight || result.bottom - result.top;\n    /** @type {?} */\n    let horizScrollbar = element.offsetWidth - width;\n    /** @type {?} */\n    let vertScrollbar = element.offsetHeight - height;\n    // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n    // we make this check conditional for performance reasons\n    if (horizScrollbar || vertScrollbar) {\n        /** @type {?} */\n        const styles = getStyleComputedProperty(element);\n        horizScrollbar -= getBordersSize(styles, 'x');\n        vertScrollbar -= getBordersSize(styles, 'y');\n        result.width -= horizScrollbar;\n        result.height -= vertScrollbar;\n    }\n    return getClientRect(result);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} rect\n * @param {?} element\n * @param {?=} subtract\n * @return {?}\n */\nfunction includeScroll(rect, element, subtract = false) {\n    /** @type {?} */\n    const scrollTop = getScroll(element, 'top');\n    /** @type {?} */\n    const scrollLeft = getScroll(element, 'left');\n    /** @type {?} */\n    const modifier = subtract ? -1 : 1;\n    rect.top += scrollTop * modifier;\n    rect.bottom += scrollTop * modifier;\n    rect.left += scrollLeft * modifier;\n    rect.right += scrollLeft * modifier;\n    return rect;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} children\n * @param {?} parent\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n    /** @type {?} */\n    const isIE10 = isIE(10);\n    /** @type {?} */\n    const isHTML = parent.nodeName === 'HTML';\n    /** @type {?} */\n    const childrenRect = getBoundingClientRect(children);\n    /** @type {?} */\n    const parentRect = getBoundingClientRect(parent);\n    /** @type {?} */\n    const scrollParent = getScrollParent(children);\n    /** @type {?} */\n    const styles = getStyleComputedProperty(parent);\n    /** @type {?} */\n    const borderTopWidth = parseFloat(styles.borderTopWidth);\n    /** @type {?} */\n    const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n    // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n    if (fixedPosition && isHTML) {\n        parentRect.top = Math.max(parentRect.top, 0);\n        parentRect.left = Math.max(parentRect.left, 0);\n    }\n    /** @type {?} */\n    let offsets = getClientRect({\n        top: childrenRect.top - parentRect.top - borderTopWidth,\n        left: childrenRect.left - parentRect.left - borderLeftWidth,\n        width: childrenRect.width,\n        height: childrenRect.height\n    });\n    offsets.marginTop = 0;\n    offsets.marginLeft = 0;\n    // Subtract margins of documentElement in case it's being used as parent\n    // we do this only on HTML because it's the only element that behaves\n    // differently when margins are applied to it. The margins are included in\n    // the box of the documentElement, in the other cases not.\n    if (!isIE10 && isHTML) {\n        /** @type {?} */\n        const marginTop = parseFloat(styles.marginTop);\n        /** @type {?} */\n        const marginLeft = parseFloat(styles.marginLeft);\n        offsets.top -= borderTopWidth - marginTop;\n        offsets.bottom -= borderTopWidth - marginTop;\n        offsets.left -= borderLeftWidth - marginLeft;\n        offsets.right -= borderLeftWidth - marginLeft;\n        // Attach marginTop and marginLeft because in some circumstances we may need them\n        offsets.marginTop = marginTop;\n        offsets.marginLeft = marginLeft;\n    }\n    if (isIE10 && !fixedPosition\n        ? parent.contains(scrollParent)\n        : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n        offsets = includeScroll(offsets, parent);\n    }\n    return offsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?=} excludeScroll\n * @return {?}\n */\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n    /** @type {?} */\n    const html = element.ownerDocument.documentElement;\n    /** @type {?} */\n    const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n    /** @type {?} */\n    const width = Math.max(html.clientWidth, window.innerWidth || 0);\n    /** @type {?} */\n    const height = Math.max(html.clientHeight, window.innerHeight || 0);\n    /** @type {?} */\n    const scrollTop = !excludeScroll ? getScroll(html) : 0;\n    /** @type {?} */\n    const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n    /** @type {?} */\n    const offset = {\n        top: scrollTop - Number(relativeOffset.top) + Number(relativeOffset.marginTop),\n        left: scrollLeft - Number(relativeOffset.left) + Number(relativeOffset.marginLeft),\n        width,\n        height\n    };\n    return getClientRect(offset);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isFixed(element) {\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        return false;\n    }\n    if (getStyleComputedProperty(element, 'position') === 'fixed') {\n        return true;\n    }\n    return isFixed(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getFixedPositionOffsetParent(element) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element || !element.parentElement || isIE()) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    let el = element.parentElement;\n    while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n        el = el.parentElement;\n    }\n    return el || document.documentElement;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} padding\n * @param {?=} boundariesElement\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getBoundaries(target, host, padding = 0, boundariesElement, fixedPosition = false) {\n    // NOTE: 1 DOM access here\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let boundaries = { top: 0, left: 0 };\n    /** @type {?} */\n    const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\n    // Handle viewport case\n    if (boundariesElement === 'viewport') {\n        boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n    }\n    else {\n        // Handle other cases based on DOM element used as boundaries\n        /** @type {?} */\n        let boundariesNode;\n        if (boundariesElement === 'scrollParent') {\n            boundariesNode = getScrollParent(getParentNode(host));\n            if (boundariesNode.nodeName === 'BODY') {\n                boundariesNode = target.ownerDocument.documentElement;\n            }\n        }\n        else if (boundariesElement === 'window') {\n            boundariesNode = target.ownerDocument.documentElement;\n        }\n        else {\n            boundariesNode = boundariesElement;\n        }\n        /** @type {?} */\n        const offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n        // In case of HTML, we need a different computation\n        if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n            const { height, width } = getWindowSizes(target.ownerDocument);\n            boundaries.top += offsets.top - offsets.marginTop;\n            boundaries.bottom = Number(height) + Number(offsets.top);\n            boundaries.left += offsets.left - offsets.marginLeft;\n            boundaries.right = Number(width) + Number(offsets.left);\n        }\n        else {\n            // for all the other DOM elements, this one is good\n            boundaries = offsets;\n        }\n    }\n    // Add paddings\n    boundaries.left += padding;\n    boundaries.top += padding;\n    boundaries.right -= padding;\n    boundaries.bottom -= padding;\n    return boundaries;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getArea({ width, height }) {\n    return width * height;\n}\n/**\n * @param {?} placement\n * @param {?} refRect\n * @param {?} target\n * @param {?} host\n * @param {?=} allowedPositions\n * @param {?=} boundariesElement\n * @param {?=} padding\n * @return {?}\n */\nfunction computeAutoPlacement(placement, refRect, target, host, allowedPositions = ['top', 'bottom', 'right', 'left'], boundariesElement = 'viewport', padding = 0) {\n    if (placement.indexOf('auto') === -1) {\n        return placement;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(target, host, padding, boundariesElement);\n    /** @type {?} */\n    const rects = {\n        top: {\n            width: boundaries.width,\n            height: refRect.top - boundaries.top\n        },\n        right: {\n            width: boundaries.right - refRect.right,\n            height: boundaries.height\n        },\n        bottom: {\n            width: boundaries.width,\n            height: boundaries.bottom - refRect.bottom\n        },\n        left: {\n            width: refRect.left - boundaries.left,\n            height: boundaries.height\n        }\n    };\n    /** @type {?} */\n    const sortedAreas = Object.keys(rects)\n        .map((/**\n     * @param {?} key\n     * @return {?}\n     */\n    key => (Object.assign(Object.assign({ key }, rects[key]), { area: getArea(rects[key]) }))))\n        .sort((/**\n     * @param {?} a\n     * @param {?} b\n     * @return {?}\n     */\n    (a, b) => b.area - a.area));\n    /** @type {?} */\n    let filteredAreas = sortedAreas.filter((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ width, height }) => {\n        return width >= target.clientWidth\n            && height >= target.clientHeight;\n    }));\n    filteredAreas = filteredAreas.filter((/**\n     * @param {?} position\n     * @return {?}\n     */\n    (position) => {\n        return allowedPositions\n            .some((/**\n         * @param {?} allowedPosition\n         * @return {?}\n         */\n        (allowedPosition) => {\n            return allowedPosition === position.key;\n        }));\n    }));\n    /** @type {?} */\n    const computedPlacement = filteredAreas.length > 0\n        ? filteredAreas[0].key\n        : sortedAreas[0].key;\n    /** @type {?} */\n    const variation = placement.split(' ')[1];\n    // for tooltip on auto position\n    target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${computedPlacement}`);\n    return computedPlacement + (variation ? `-${variation}` : '');\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction getOffsets(data) {\n    return {\n        width: data.offsets.target.width,\n        height: data.offsets.target.height,\n        left: Math.floor(data.offsets.target.left),\n        top: Math.round(data.offsets.target.top),\n        bottom: Math.round(data.offsets.target.bottom),\n        right: Math.floor(data.offsets.target.right)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement of the given one\n * @param {?} placement\n * @return {?}\n */\nfunction getOppositePlacement(placement) {\n    /** @type {?} */\n    const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n    return placement.replace(/left|right|bottom|top/g, (/**\n     * @param {?} matched\n     * @return {?}\n     */\n    matched => ((/** @type {?} */ (hash)))[matched]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement variation of the given one\n * @param {?} variation\n * @return {?}\n */\nfunction getOppositeVariation(variation) {\n    if (variation === 'right') {\n        return 'left';\n    }\n    else if (variation === 'left') {\n        return 'right';\n    }\n    return variation;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @param {?} element\n * @return {?}\n */\nfunction getOuterSizes(element) {\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const styles = window.getComputedStyle(element);\n    /** @type {?} */\n    const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n    /** @type {?} */\n    const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n    return {\n        width: Number(element.offsetWidth) + y,\n        height: Number(element.offsetHeight) + x\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getReferenceOffsets(target, host, fixedPosition = null) {\n    /** @type {?} */\n    const commonOffsetParent = fixedPosition\n        ? getFixedPositionOffsetParent(target)\n        : findCommonOffsetParent(target, host);\n    return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} hostOffsets\n * @param {?} position\n * @return {?}\n */\nfunction getTargetOffsets(target, hostOffsets, position) {\n    /** @type {?} */\n    const placement = position.split(' ')[0];\n    // Get target node sizes\n    /** @type {?} */\n    const targetRect = getOuterSizes(target);\n    // Add position, width and height to our offsets object\n    /** @type {?} */\n    const targetOffsets = {\n        width: targetRect.width,\n        height: targetRect.height\n    };\n    // depending by the target placement we have to compute its offsets slightly differently\n    /** @type {?} */\n    const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n    /** @type {?} */\n    const mainSide = isHoriz ? 'top' : 'left';\n    /** @type {?} */\n    const secondarySide = isHoriz ? 'left' : 'top';\n    /** @type {?} */\n    const measurement = isHoriz ? 'height' : 'width';\n    /** @type {?} */\n    const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n    ((/** @type {?} */ (targetOffsets)))[mainSide] =\n        hostOffsets[mainSide] +\n            hostOffsets[measurement] / 2 -\n            targetRect[measurement] / 2;\n    ((/** @type {?} */ (targetOffsets)))[secondarySide] = placement === secondarySide\n        ? hostOffsets[secondarySide] - targetRect[secondaryMeasurement]\n        : ((/** @type {?} */ (hostOffsets)))[getOppositePlacement(secondarySide)];\n    return targetOffsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper used to know if the given modifier is enabled.\n * @param {?} options\n * @param {?} modifierName\n * @return {?}\n */\nfunction isModifierEnabled(options, modifierName) {\n    return options\n        && options.modifiers\n        && options.modifiers[modifierName]\n        && options.modifiers[modifierName].enabled;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Tells if a given input is a number\n * @param {?} n\n * @return {?}\n */\nfunction isNumeric(n) {\n    return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @param {?=} renderer\n * @return {?}\n */\nfunction updateContainerClass(data, renderer) {\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    let containerClass = target.className;\n    if (data.placementAuto) {\n        containerClass = containerClass.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`);\n        containerClass = containerClass.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`);\n        containerClass = containerClass.replace(/\\sauto/g, ` ${data.placement}`);\n        if (containerClass.indexOf('popover') !== -1 && containerClass.indexOf('popover-auto') === -1) {\n            containerClass += ' popover-auto';\n        }\n        if (containerClass.indexOf('tooltip') !== -1 && containerClass.indexOf('tooltip-auto') === -1) {\n            containerClass += ' tooltip-auto';\n        }\n    }\n    containerClass = containerClass.replace(/left|right|top|bottom/g, `${data.placement.split(' ')[0]}`);\n    if (renderer) {\n        renderer.setAttribute(target, 'class', containerClass);\n        return;\n    }\n    target.className = containerClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?} styles\n * @param {?=} renderer\n * @return {?}\n */\nfunction setStyles(element, styles, renderer) {\n    Object.keys(styles).forEach((/**\n     * @param {?} prop\n     * @return {?}\n     */\n    (prop) => {\n        /** @type {?} */\n        let unit = '';\n        // add unit if the value is numeric and is one of the following\n        if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\n            isNumeric(styles[prop])) {\n            unit = 'px';\n        }\n        if (renderer) {\n            renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\n            return;\n        }\n        element.style[prop] = String(styles[prop]) + unit;\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction arrow(data) {\n    /** @type {?} */\n    let targetOffsets = data.offsets.target;\n    // if arrowElement is a string, suppose it's a CSS selector\n    /** @type {?} */\n    const arrowElement = data.instance.target.querySelector('.arrow');\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n        return data;\n    }\n    /** @type {?} */\n    const isVertical = ['left', 'right'].indexOf(data.placement.split(' ')[0]) !== -1;\n    /** @type {?} */\n    const len = isVertical ? 'height' : 'width';\n    /** @type {?} */\n    const sideCapitalized = isVertical ? 'Top' : 'Left';\n    /** @type {?} */\n    const side = sideCapitalized.toLowerCase();\n    /** @type {?} */\n    const altSide = isVertical ? 'left' : 'top';\n    /** @type {?} */\n    const opSide = isVertical ? 'bottom' : 'right';\n    /** @type {?} */\n    const arrowElementSize = getOuterSizes(arrowElement)[len];\n    /** @type {?} */\n    const placementVariation = data.placement.split(' ')[1];\n    // top/left side\n    if (data.offsets.host[opSide] - arrowElementSize < ((/** @type {?} */ (targetOffsets)))[side]) {\n        ((/** @type {?} */ (targetOffsets)))[side] -=\n            ((/** @type {?} */ (targetOffsets)))[side] - (data.offsets.host[opSide] - arrowElementSize);\n    }\n    // bottom/right side\n    if (Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) > ((/** @type {?} */ (targetOffsets)))[opSide]) {\n        ((/** @type {?} */ (targetOffsets)))[side] +=\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) - Number(((/** @type {?} */ (targetOffsets)))[opSide]);\n    }\n    targetOffsets = getClientRect(targetOffsets);\n    // Compute the sideValue using the updated target offsets\n    // take target margin in account because we don't have this info available\n    /** @type {?} */\n    const css = getStyleComputedProperty(data.instance.target);\n    /** @type {?} */\n    const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\n    /** @type {?} */\n    const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\n    // compute center of the target\n    /** @type {?} */\n    let center;\n    if (!placementVariation) {\n        center = Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\n    }\n    else {\n        /** @type {?} */\n        const targetBorderRadius = parseFloat(css.borderRadius);\n        /** @type {?} */\n        const targetSideArrowOffset = Number(targetMarginSide + targetBorderSide + targetBorderRadius);\n        center = side === placementVariation ?\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + targetSideArrowOffset :\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] - targetSideArrowOffset);\n    }\n    /** @type {?} */\n    let sideValue = center - ((/** @type {?} */ (targetOffsets)))[side] - targetMarginSide - targetBorderSide;\n    // prevent arrowElement from being placed not contiguously to its target\n    sideValue = Math.max(Math.min(targetOffsets[len] - arrowElementSize, sideValue), 0);\n    data.offsets.arrow = {\n        [side]: Math.round(sideValue),\n        [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\n    };\n    data.instance.arrow = arrowElement;\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction flip(data) {\n    data.offsets.target = getClientRect(data.offsets.target);\n    if (!isModifierEnabled(data.options, 'flip')) {\n        data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        return data;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'viewport', false // positionFixed\n    );\n    /** @type {?} */\n    let placement = data.placement.split(' ')[0];\n    /** @type {?} */\n    let variation = data.placement.split(' ')[1] || '';\n    /** @type {?} */\n    const offsetsHost = data.offsets.host;\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    const host = data.instance.host;\n    /** @type {?} */\n    const adaptivePosition = computeAutoPlacement('auto', offsetsHost, target, host, data.options.allowedPositions);\n    /** @type {?} */\n    const flipOrder = [placement, adaptivePosition];\n    /* tslint:disable-next-line: cyclomatic-complexity */\n    flipOrder.forEach((/**\n     * @param {?} step\n     * @param {?} index\n     * @return {?}\n     */\n    (step, index) => {\n        if (placement !== step || flipOrder.length === index + 1) {\n            return data;\n        }\n        placement = data.placement.split(' ')[0];\n        // using floor because the host offsets may contain decimals we are not going to consider here\n        /** @type {?} */\n        const overlapsRef = (placement === 'left' &&\n            Math.floor(data.offsets.target.right) > Math.floor(data.offsets.host.left)) ||\n            (placement === 'right' &&\n                Math.floor(data.offsets.target.left) < Math.floor(data.offsets.host.right)) ||\n            (placement === 'top' &&\n                Math.floor(data.offsets.target.bottom) > Math.floor(data.offsets.host.top)) ||\n            (placement === 'bottom' &&\n                Math.floor(data.offsets.target.top) < Math.floor(data.offsets.host.bottom));\n        /** @type {?} */\n        const overflowsLeft = Math.floor(data.offsets.target.left) < Math.floor(boundaries.left);\n        /** @type {?} */\n        const overflowsRight = Math.floor(data.offsets.target.right) > Math.floor(boundaries.right);\n        /** @type {?} */\n        const overflowsTop = Math.floor(data.offsets.target.top) < Math.floor(boundaries.top);\n        /** @type {?} */\n        const overflowsBottom = Math.floor(data.offsets.target.bottom) > Math.floor(boundaries.bottom);\n        /** @type {?} */\n        const overflowsBoundaries = (placement === 'left' && overflowsLeft) ||\n            (placement === 'right' && overflowsRight) ||\n            (placement === 'top' && overflowsTop) ||\n            (placement === 'bottom' && overflowsBottom);\n        // flip the variation if required\n        /** @type {?} */\n        const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n        /** @type {?} */\n        const flippedVariation = ((isVertical && variation === 'left' && overflowsLeft) ||\n            (isVertical && variation === 'right' && overflowsRight) ||\n            (!isVertical && variation === 'left' && overflowsTop) ||\n            (!isVertical && variation === 'right' && overflowsBottom));\n        if (overlapsRef || overflowsBoundaries || flippedVariation) {\n            if (overlapsRef || overflowsBoundaries) {\n                placement = flipOrder[index + 1];\n            }\n            if (flippedVariation) {\n                variation = getOppositeVariation(variation);\n            }\n            data.placement = placement + (variation ? ` ${variation}` : '');\n            data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        }\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} targetElement\n * @param {?} hostElement\n * @param {?} position\n * @param {?} options\n * @return {?}\n */\nfunction initData(targetElement, hostElement, position, options) {\n    /** @type {?} */\n    const hostElPosition = getReferenceOffsets(targetElement, hostElement);\n    if (!position.match(/^(auto)*\\s*(left|right|top|bottom)*$/)\n        && !position.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\\s*(start|end)*$/)) {\n        /* tslint:disable-next-line: no-parameter-reassignment */\n        position = 'auto';\n    }\n    /** @type {?} */\n    const placementAuto = !!position.match(/auto/g);\n    // support old placements 'auto left|right|top|bottom'\n    /** @type {?} */\n    let placement = position.match(/auto\\s(left|right|top|bottom)/)\n        ? position.split(' ')[1] || 'auto'\n        : position;\n    // Normalize placements that have identical main placement and variation (\"right right\" => \"right\").\n    /** @type {?} */\n    const matches = placement.match(/^(left|right|top|bottom)* ?(?!\\1)(left|right|top|bottom)?/);\n    if (matches) {\n        placement = matches[1] + (matches[2] ? ` ${matches[2]}` : '');\n    }\n    // \"left right\", \"top bottom\" etc. placements also considered incorrect.\n    if (['left right', 'right left', 'top bottom', 'bottom top'].indexOf(placement) !== -1) {\n        placement = 'auto';\n    }\n    /** @type {?} */\n    const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\n    placement = computeAutoPlacement(placement, hostElPosition, targetElement, hostElement, options ? options.allowedPositions : undefined);\n    return {\n        options,\n        instance: {\n            target: targetElement,\n            host: hostElement,\n            arrow: null\n        },\n        offsets: {\n            target: targetOffset,\n            host: hostElPosition,\n            arrow: null\n        },\n        positionFixed: false,\n        placement,\n        placementAuto\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction preventOverflow(data) {\n    if (!isModifierEnabled(data.options, 'preventOverflow')) {\n        return data;\n    }\n    // NOTE: DOM access here\n    // resets the targetOffsets's position so that the document size can be calculated excluding\n    // the size of the targetOffsets element itself\n    /** @type {?} */\n    const transformProp = 'transform';\n    /** @type {?} */\n    const targetStyles = data.instance.target.style;\n    // assignment to help minification\n    const { top, left, [transformProp]: transform } = targetStyles;\n    targetStyles.top = '';\n    targetStyles.left = '';\n    targetStyles[transformProp] = '';\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'scrollParent', false // positionFixed\n    );\n    // NOTE: DOM access here\n    // restores the original style properties after the offsets have been computed\n    targetStyles.top = top;\n    targetStyles.left = left;\n    targetStyles[transformProp] = transform;\n    /** @type {?} */\n    const order = ['left', 'right', 'top', 'bottom'];\n    /** @type {?} */\n    const check = {\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        primary(placement) {\n            /** @type {?} */\n            let value = ((/** @type {?} */ (data))).offsets.target[placement];\n            if (((/** @type {?} */ (data))).offsets.target[placement] < boundaries[placement] &&\n                !false // options.escapeWithReference\n            ) {\n                value = Math.max(((/** @type {?} */ (data))).offsets.target[placement], boundaries[placement]);\n            }\n            return { [placement]: value };\n        },\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        secondary(placement) {\n            /** @type {?} */\n            const mainSide = placement === 'right' ? 'left' : 'top';\n            /** @type {?} */\n            let value = data.offsets.target[mainSide];\n            if (((/** @type {?} */ (data))).offsets.target[placement] > boundaries[placement] &&\n                !false // escapeWithReference\n            ) {\n                value = Math.min(data.offsets.target[mainSide], boundaries[placement] -\n                    (placement === 'right' ? data.offsets.target.width : data.offsets.target.height));\n            }\n            return { [mainSide]: value };\n        }\n    };\n    /** @type {?} */\n    let side;\n    order.forEach((/**\n     * @param {?} placement\n     * @return {?}\n     */\n    placement => {\n        side = ['left', 'top']\n            .indexOf(placement) !== -1\n            ? 'primary'\n            : 'secondary';\n        data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), ((/** @type {?} */ (check)))[side](placement));\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction shift(data) {\n    /** @type {?} */\n    const placement = data.placement;\n    /** @type {?} */\n    const basePlacement = placement.split(' ')[0];\n    /** @type {?} */\n    const shiftVariation = placement.split(' ')[1];\n    if (shiftVariation) {\n        const { host, target } = data.offsets;\n        /** @type {?} */\n        const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n        /** @type {?} */\n        const side = isVertical ? 'left' : 'top';\n        /** @type {?} */\n        const measurement = isVertical ? 'width' : 'height';\n        /** @type {?} */\n        const shiftOffsets = {\n            start: { [side]: host[side] },\n            end: {\n                [side]: host[side] + host[measurement] - target[measurement]\n            }\n        };\n        data.offsets.target = Object.assign(Object.assign({}, target), {\n            [side]: (side === shiftVariation ? ((/** @type {?} */ (shiftOffsets))).start[side] : ((/** @type {?} */ (shiftOffsets))).end[side])\n        });\n    }\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Positioning {\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    position(hostElement, targetElement, round = true) {\n        return this.offset(hostElement, targetElement, false);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    offset(hostElement, targetElement, round = true) {\n        return getReferenceOffsets(targetElement, hostElement);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?} position\n     * @param {?=} appendToBody\n     * @param {?=} options\n     * @return {?}\n     */\n    positionElements(hostElement, targetElement, position, appendToBody, options) {\n        /** @type {?} */\n        const chainOfModifiers = [flip, shift, preventOverflow, arrow];\n        return chainOfModifiers.reduce((/**\n         * @param {?} modifiedData\n         * @param {?} modifier\n         * @return {?}\n         */\n        (modifiedData, modifier) => modifier(modifiedData)), initData(targetElement, hostElement, position, options));\n    }\n}\n/** @type {?} */\nconst positionService = new Positioning();\n/**\n * @param {?} hostElement\n * @param {?} targetElement\n * @param {?} placement\n * @param {?=} appendToBody\n * @param {?=} options\n * @param {?=} renderer\n * @return {?}\n */\nfunction positionElements(hostElement, targetElement, placement, appendToBody, options, renderer) {\n    /** @type {?} */\n    const data = positionService.positionElements(hostElement, targetElement, placement, appendToBody, options);\n    /** @type {?} */\n    const offsets = getOffsets(data);\n    setStyles(targetElement, {\n        'will-change': 'transform',\n        top: '0px',\n        left: '0px',\n        transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\n    }, renderer);\n    if (data.instance.arrow) {\n        setStyles(data.instance.arrow, data.offsets.arrow, renderer);\n    }\n    updateContainerClass(data, renderer);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction PositioningOptions() { }\nif (false) {\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which will be moved\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.element;\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which the element will be attached to\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.target;\n    /**\n     * A string of the form 'vert-attachment horiz-attachment' or 'placement'\n     * - placement can be \"top\", \"bottom\", \"left\", \"right\"\n     * not yet supported:\n     * - vert-attachment can be any of 'top', 'middle', 'bottom'\n     * - horiz-attachment can be any of 'left', 'center', 'right'\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.attachment;\n    /**\n     * A string similar to `attachment`. The one difference is that, if it's not provided,\n     * `targetAttachment` will assume the mirror image of `attachment`.\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetAttachment;\n    /**\n     * A string of the form 'vert-offset horiz-offset'\n     * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.offset;\n    /**\n     * A string similar to `offset`, but referring to the offset of the target\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetOffset;\n    /**\n     * If true component will be attached to body\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.appendToBody;\n}\nclass PositioningService {\n    /**\n     * @param {?} ngZone\n     * @param {?} rendererFactory\n     * @param {?} platformId\n     */\n    constructor(ngZone, rendererFactory, platformId) {\n        this.update$$ = new Subject();\n        this.positionElements = new Map();\n        this.isDisabled = false;\n        if (isPlatformBrowser(platformId)) {\n            ngZone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.triggerEvent$ = merge(fromEvent(window, 'scroll', { passive: true }), fromEvent(window, 'resize', { passive: true }), \n                /* tslint:disable-next-line: deprecation */\n                of(0, animationFrameScheduler), this.update$$);\n                this.triggerEvent$.subscribe((/**\n                 * @return {?}\n                 */\n                () => {\n                    if (this.isDisabled) {\n                        return;\n                    }\n                    this.positionElements\n                        /* tslint:disable-next-line: no-any */\n                        .forEach((/**\n                     * @param {?} positionElement\n                     * @return {?}\n                     */\n                    (positionElement) => {\n                        positionElements(_getHtmlElement(positionElement.target), _getHtmlElement(positionElement.element), positionElement.attachment, positionElement.appendToBody, this.options, rendererFactory.createRenderer(null, null));\n                    }));\n                }));\n            }));\n        }\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    position(options) {\n        this.addPositionElement(options);\n    }\n    /**\n     * @return {?}\n     */\n    get event$() {\n        return this.triggerEvent$;\n    }\n    /**\n     * @return {?}\n     */\n    disable() {\n        this.isDisabled = true;\n    }\n    /**\n     * @return {?}\n     */\n    enable() {\n        this.isDisabled = false;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    addPositionElement(options) {\n        this.positionElements.set(_getHtmlElement(options.element), options);\n    }\n    /**\n     * @return {?}\n     */\n    calcPosition() {\n        this.update$$.next();\n    }\n    /**\n     * @param {?} elRef\n     * @return {?}\n     */\n    deletePositionElement(elRef) {\n        this.positionElements.delete(_getHtmlElement(elRef));\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        this.options = options;\n    }\n}\nPositioningService.ɵfac = function PositioningService_Factory(t) { return new (t || PositioningService)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(PLATFORM_ID)); };\nPositioningService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: PositioningService, factory: PositioningService.ɵfac });\n/** @nocollapse */\nPositioningService.ctorParameters = () => [\n    { type: NgZone },\n    { type: RendererFactory2 },\n    { type: Number, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PositioningService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.RendererFactory2 }, { type: Number, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.options;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.update$$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.positionElements;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.triggerEvent$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.isDisabled;\n}\n/**\n * @param {?} element\n * @return {?}\n */\nfunction _getHtmlElement(element) {\n    // it means that we got a selector\n    if (typeof element === 'string') {\n        return document.querySelector(element);\n    }\n    if (element instanceof ElementRef) {\n        return element.nativeElement;\n    }\n    return element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Positioning, PositioningService, positionElements };\n\n//# sourceMappingURL=ngx-bootstrap-positioning.js.map","import { Injectable, ɵɵdefineInjectable, EventEmitter, Component, ChangeDetectionStrategy, ChangeDetectorRef, Renderer2, ElementRef, Directive, ViewContainerRef, Input, Output, TemplateRef, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { filter } from 'rxjs/operators';\nimport { ComponentLoaderFactory } from 'ngx-bootstrap/component-loader';\nimport { isBs3 } from 'ngx-bootstrap/utils';\nimport { style, animate, AnimationBuilder } from '@angular/animations';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Default dropdown configuration\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/animations';\nimport * as ɵngcc2 from 'ngx-bootstrap/component-loader';\n\nconst _c0 = [\"*\"];\nclass BsDropdownConfig {\n    constructor() {\n        /**\n         * default dropdown auto closing behavior\n         */\n        this.autoClose = true;\n        /**\n         * default dropdown auto closing behavior\n         */\n        this.insideClick = false;\n        /**\n         * turn on/off animation\n         */\n        this.isAnimated = false;\n    }\n}\nBsDropdownConfig.ɵfac = function BsDropdownConfig_Factory(t) { return new (t || BsDropdownConfig)(); };\n/** @nocollapse */ BsDropdownConfig.ɵprov = ɵɵdefineInjectable({ factory: function BsDropdownConfig_Factory() { return new BsDropdownConfig(); }, token: BsDropdownConfig, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownConfig, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\nif (false) {\n    /**\n     * default dropdown auto closing behavior\n     * @type {?}\n     */\n    BsDropdownConfig.prototype.autoClose;\n    /**\n     * default dropdown auto closing behavior\n     * @type {?}\n     */\n    BsDropdownConfig.prototype.insideClick;\n    /**\n     * turn on/off animation\n     * @type {?}\n     */\n    BsDropdownConfig.prototype.isAnimated;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsDropdownState {\n    constructor() {\n        this.direction = 'down';\n        this.isOpenChange = new EventEmitter();\n        this.isDisabledChange = new EventEmitter();\n        this.toggleClick = new EventEmitter();\n        this.dropdownMenu = new Promise((/**\n         * @param {?} resolve\n         * @return {?}\n         */\n        resolve => {\n            this.resolveDropdownMenu = resolve;\n        }));\n    }\n}\nBsDropdownState.ɵfac = function BsDropdownState_Factory(t) { return new (t || BsDropdownState)(); };\nBsDropdownState.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: BsDropdownState, factory: BsDropdownState.ɵfac });\n/** @nocollapse */\nBsDropdownState.ctorParameters = () => [];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownState, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\nif (false) {\n    /** @type {?} */\n    BsDropdownState.prototype.direction;\n    /** @type {?} */\n    BsDropdownState.prototype.autoClose;\n    /** @type {?} */\n    BsDropdownState.prototype.insideClick;\n    /** @type {?} */\n    BsDropdownState.prototype.isAnimated;\n    /** @type {?} */\n    BsDropdownState.prototype.isOpenChange;\n    /** @type {?} */\n    BsDropdownState.prototype.isDisabledChange;\n    /** @type {?} */\n    BsDropdownState.prototype.toggleClick;\n    /**\n     * Content to be displayed as popover.\n     * @type {?}\n     */\n    BsDropdownState.prototype.dropdownMenu;\n    /** @type {?} */\n    BsDropdownState.prototype.resolveDropdownMenu;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst DROPDOWN_ANIMATION_TIMING = '220ms cubic-bezier(0, 0, 0.2, 1)';\n/** @type {?} */\nconst dropdownAnimation = [\n    style({ height: 0, overflow: 'hidden' }),\n    animate(DROPDOWN_ANIMATION_TIMING, style({ height: '*', overflow: 'hidden' }))\n];\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsDropdownContainerComponent {\n    /**\n     * @param {?} _state\n     * @param {?} cd\n     * @param {?} _renderer\n     * @param {?} _element\n     * @param {?} _builder\n     */\n    constructor(_state, cd, _renderer, _element, _builder) {\n        this._state = _state;\n        this.cd = cd;\n        this._renderer = _renderer;\n        this._element = _element;\n        this.isOpen = false;\n        this._factoryDropDownAnimation = _builder.build(dropdownAnimation);\n        this._subscription = _state.isOpenChange.subscribe((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => {\n            this.isOpen = value;\n            /** @type {?} */\n            const dropdown = this._element.nativeElement.querySelector('.dropdown-menu');\n            this._renderer.addClass(this._element.nativeElement.querySelector('div'), 'open');\n            if (dropdown && !isBs3()) {\n                this._renderer.addClass(dropdown, 'show');\n                if (dropdown.classList.contains('dropdown-menu-right')) {\n                    this._renderer.setStyle(dropdown, 'left', 'auto');\n                    this._renderer.setStyle(dropdown, 'right', '0');\n                }\n                if (this.direction === 'up') {\n                    this._renderer.setStyle(dropdown, 'top', 'auto');\n                    this._renderer.setStyle(dropdown, 'transform', 'translateY(-101%)');\n                }\n            }\n            if (dropdown && this._state.isAnimated) {\n                this._factoryDropDownAnimation.create(dropdown)\n                    .play();\n            }\n            this.cd.markForCheck();\n            this.cd.detectChanges();\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    get direction() {\n        return this._state.direction;\n    }\n    /**\n     * \\@internal\n     * @param {?} el\n     * @return {?}\n     */\n    _contains(el) {\n        return this._element.nativeElement.contains(el);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._subscription.unsubscribe();\n    }\n}\nBsDropdownContainerComponent.ɵfac = function BsDropdownContainerComponent_Factory(t) { return new (t || BsDropdownContainerComponent)(ɵngcc0.ɵɵdirectiveInject(BsDropdownState), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AnimationBuilder)); };\nBsDropdownContainerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: BsDropdownContainerComponent, selectors: [[\"bs-dropdown-container\"]], hostAttrs: [2, \"display\", \"block\", \"position\", \"absolute\", \"z-index\", \"1040\"], ngContentSelectors: _c0, decls: 2, vars: 8, template: function BsDropdownContainerComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\");\n        ɵngcc0.ɵɵprojection(1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"dropup\", ctx.direction === \"up\")(\"dropdown\", ctx.direction === \"down\")(\"show\", ctx.isOpen)(\"open\", ctx.isOpen);\n    } }, directives: function () { return [BsDropdownDirective]; }, encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nBsDropdownContainerComponent.ctorParameters = () => [\n    { type: BsDropdownState },\n    { type: ChangeDetectorRef },\n    { type: Renderer2 },\n    { type: ElementRef },\n    { type: AnimationBuilder }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownContainerComponent, [{\n        type: Component,\n        args: [{\n                selector: 'bs-dropdown-container',\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                host: {\n                    style: 'display:block;position: absolute;z-index: 1040'\n                },\n                template: `\n    <div [class.dropup]=\"direction === 'up'\"\n         [class.dropdown]=\"direction === 'down'\"\n         [class.show]=\"isOpen\"\n         [class.open]=\"isOpen\"><ng-content></ng-content>\n    </div>\n  `\n            }]\n    }], function () { return [{ type: BsDropdownState }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }, { type: ɵngcc1.AnimationBuilder }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    BsDropdownContainerComponent.prototype.isOpen;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownContainerComponent.prototype._factoryDropDownAnimation;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownContainerComponent.prototype._subscription;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownContainerComponent.prototype._state;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownContainerComponent.prototype.cd;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownContainerComponent.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownContainerComponent.prototype._element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsDropdownDirective {\n    /**\n     * @param {?} _elementRef\n     * @param {?} _renderer\n     * @param {?} _viewContainerRef\n     * @param {?} _cis\n     * @param {?} _state\n     * @param {?} _config\n     * @param {?} _builder\n     */\n    constructor(_elementRef, _renderer, _viewContainerRef, _cis, _state, _config, _builder) {\n        this._elementRef = _elementRef;\n        this._renderer = _renderer;\n        this._viewContainerRef = _viewContainerRef;\n        this._cis = _cis;\n        this._state = _state;\n        this._config = _config;\n        // todo: move to component loader\n        this._isInlineOpen = false;\n        this._subscriptions = [];\n        this._isInited = false;\n        // set initial dropdown state from config\n        this._state.autoClose = this._config.autoClose;\n        this._state.insideClick = this._config.insideClick;\n        this._state.isAnimated = this._config.isAnimated;\n        this._factoryDropDownAnimation = _builder.build(dropdownAnimation);\n        // create dropdown component loader\n        this._dropdown = this._cis\n            .createLoader(this._elementRef, this._viewContainerRef, this._renderer)\n            .provide({ provide: BsDropdownState, useValue: this._state });\n        this.onShown = this._dropdown.onShown;\n        this.onHidden = this._dropdown.onHidden;\n        this.isOpenChange = this._state.isOpenChange;\n    }\n    /**\n     * Indicates that dropdown will be closed on item or document click,\n     * and after pressing ESC\n     * @param {?} value\n     * @return {?}\n     */\n    set autoClose(value) {\n        this._state.autoClose = value;\n    }\n    /**\n     * @return {?}\n     */\n    get autoClose() {\n        return this._state.autoClose;\n    }\n    /**\n     * Indicates that dropdown will be animated\n     * @param {?} value\n     * @return {?}\n     */\n    set isAnimated(value) {\n        this._state.isAnimated = value;\n    }\n    /**\n     * @return {?}\n     */\n    get isAnimated() {\n        return this._state.isAnimated;\n    }\n    /**\n     * This attribute indicates that the dropdown shouldn't close on inside click when autoClose is set to true\n     * @param {?} value\n     * @return {?}\n     */\n    set insideClick(value) {\n        this._state.insideClick = value;\n    }\n    /**\n     * @return {?}\n     */\n    get insideClick() {\n        return this._state.insideClick;\n    }\n    /**\n     * Disables dropdown toggle and hides dropdown menu if opened\n     * @param {?} value\n     * @return {?}\n     */\n    set isDisabled(value) {\n        this._isDisabled = value;\n        this._state.isDisabledChange.emit(value);\n        if (value) {\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get isDisabled() {\n        return this._isDisabled;\n    }\n    /**\n     * Returns whether or not the popover is currently being shown\n     * @return {?}\n     */\n    get isOpen() {\n        if (this._showInline) {\n            return this._isInlineOpen;\n        }\n        return this._dropdown.isShown;\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set isOpen(value) {\n        if (value) {\n            this.show();\n        }\n        else {\n            this.hide();\n        }\n    }\n    /**\n     * @return {?}\n     */\n    get isBs4() {\n        return !isBs3();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    get _showInline() {\n        return !this.container;\n    }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n        // fix: seems there are an issue with `routerLinkActive`\n        // which result in duplicated call ngOnInit without call to ngOnDestroy\n        // read more: https://github.com/valor-software/ngx-bootstrap/issues/1885\n        if (this._isInited) {\n            return;\n        }\n        this._isInited = true;\n        // attach DOM listeners\n        this._dropdown.listen({\n            // because of dropdown inline mode\n            outsideClick: false,\n            triggers: this.triggers,\n            show: (/**\n             * @return {?}\n             */\n            () => this.show())\n        });\n        // toggle visibility on toggle element click\n        this._subscriptions.push(this._state.toggleClick.subscribe((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => this.toggle(value))));\n        // hide dropdown if set disabled while opened\n        this._subscriptions.push(this._state.isDisabledChange\n            .pipe(filter((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => value)))\n            .subscribe((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => this.hide())));\n    }\n    /**\n     * Opens an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     * @return {?}\n     */\n    show() {\n        if (this.isOpen || this.isDisabled) {\n            return;\n        }\n        if (this._showInline) {\n            if (!this._inlinedMenu) {\n                this._state.dropdownMenu.then((/**\n                 * @param {?} dropdownMenu\n                 * @return {?}\n                 */\n                (dropdownMenu) => {\n                    this._dropdown.attachInline(dropdownMenu.viewContainer, dropdownMenu.templateRef);\n                    this._inlinedMenu = this._dropdown._inlineViewRef;\n                    this.addBs4Polyfills();\n                    this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode, 'open');\n                    this.playAnimation();\n                }))\n                    // swallow errors\n                    .catch();\n            }\n            this.addBs4Polyfills();\n            this._isInlineOpen = true;\n            this.onShown.emit(true);\n            this._state.isOpenChange.emit(true);\n            this.playAnimation();\n            return;\n        }\n        this._state.dropdownMenu.then((/**\n         * @param {?} dropdownMenu\n         * @return {?}\n         */\n        dropdownMenu => {\n            // check direction in which dropdown should be opened\n            /** @type {?} */\n            const _dropup = this.dropup ||\n                (typeof this.dropup !== 'undefined' && this.dropup);\n            this._state.direction = _dropup ? 'up' : 'down';\n            /** @type {?} */\n            const _placement = this.placement || (_dropup ? 'top start' : 'bottom start');\n            // show dropdown\n            this._dropdown\n                .attach(BsDropdownContainerComponent)\n                .to(this.container)\n                .position({ attachment: _placement })\n                .show({\n                content: dropdownMenu.templateRef,\n                placement: _placement\n            });\n            this._state.isOpenChange.emit(true);\n        }))\n            // swallow error\n            .catch();\n    }\n    /**\n     * Closes an element’s popover. This is considered a “manual” triggering of\n     * the popover.\n     * @return {?}\n     */\n    hide() {\n        if (!this.isOpen) {\n            return;\n        }\n        if (this._showInline) {\n            this.removeShowClass();\n            this.removeDropupStyles();\n            this._isInlineOpen = false;\n            this.onHidden.emit(true);\n        }\n        else {\n            this._dropdown.hide();\n        }\n        this._state.isOpenChange.emit(false);\n    }\n    /**\n     * Toggles an element’s popover. This is considered a “manual” triggering of\n     * the popover. With parameter <code>true</code> allows toggling, with parameter <code>false</code>\n     * only hides opened dropdown. Parameter usage will be removed in ngx-bootstrap v3\n     * @param {?=} value\n     * @return {?}\n     */\n    toggle(value) {\n        if (this.isOpen || !value) {\n            return this.hide();\n        }\n        return this.show();\n    }\n    /**\n     * \\@internal\n     * @param {?} event\n     * @return {?}\n     */\n    _contains(event) {\n        return this._elementRef.nativeElement.contains(event.target) ||\n            (this._dropdown.instance && this._dropdown.instance._contains(event.target));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        // clean up subscriptions and destroy dropdown\n        for (const sub of this._subscriptions) {\n            sub.unsubscribe();\n        }\n        this._dropdown.dispose();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    addBs4Polyfills() {\n        if (!isBs3()) {\n            this.addShowClass();\n            this.checkRightAlignment();\n            this.addDropupStyles();\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    playAnimation() {\n        if (this._state.isAnimated && this._inlinedMenu) {\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0])\n                    .play();\n            }));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    addShowClass() {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            this._renderer.addClass(this._inlinedMenu.rootNodes[0], 'show');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    removeShowClass() {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            this._renderer.removeClass(this._inlinedMenu.rootNodes[0], 'show');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    checkRightAlignment() {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            /** @type {?} */\n            const isRightAligned = this._inlinedMenu.rootNodes[0].classList.contains('dropdown-menu-right');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'left', isRightAligned ? 'auto' : '0');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'right', isRightAligned ? '0' : 'auto');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    addDropupStyles() {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            // a little hack to not break support of bootstrap 4 beta\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'top', this.dropup ? 'auto' : '100%');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'transform', this.dropup ? 'translateY(-101%)' : 'translateY(0)');\n            this._renderer.setStyle(this._inlinedMenu.rootNodes[0], 'bottom', 'auto');\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    removeDropupStyles() {\n        if (this._inlinedMenu && this._inlinedMenu.rootNodes[0]) {\n            this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'top');\n            this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'transform');\n            this._renderer.removeStyle(this._inlinedMenu.rootNodes[0], 'bottom');\n        }\n    }\n}\nBsDropdownDirective.ɵfac = function BsDropdownDirective_Factory(t) { return new (t || BsDropdownDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.ComponentLoaderFactory), ɵngcc0.ɵɵdirectiveInject(BsDropdownState), ɵngcc0.ɵɵdirectiveInject(BsDropdownConfig), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AnimationBuilder)); };\nBsDropdownDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BsDropdownDirective, selectors: [[\"\", \"bsDropdown\", \"\"], [\"\", \"dropdown\", \"\"]], hostVars: 6, hostBindings: function BsDropdownDirective_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"dropup\", ctx.dropup)(\"open\", ctx.isOpen)(\"show\", ctx.isOpen && ctx.isBs4);\n    } }, inputs: { autoClose: \"autoClose\", isAnimated: \"isAnimated\", insideClick: \"insideClick\", isDisabled: \"isDisabled\", isOpen: \"isOpen\", placement: \"placement\", triggers: \"triggers\", container: \"container\", dropup: \"dropup\" }, outputs: { onShown: \"onShown\", onHidden: \"onHidden\", isOpenChange: \"isOpenChange\" }, exportAs: [\"bs-dropdown\"], features: [ɵngcc0.ɵɵProvidersFeature([BsDropdownState])] });\n/** @nocollapse */\nBsDropdownDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: ViewContainerRef },\n    { type: ComponentLoaderFactory },\n    { type: BsDropdownState },\n    { type: BsDropdownConfig },\n    { type: AnimationBuilder }\n];\nBsDropdownDirective.propDecorators = {\n    placement: [{ type: Input }],\n    triggers: [{ type: Input }],\n    container: [{ type: Input }],\n    dropup: [{ type: Input }],\n    autoClose: [{ type: Input }],\n    isAnimated: [{ type: Input }],\n    insideClick: [{ type: Input }],\n    isDisabled: [{ type: Input }],\n    isOpen: [{ type: Input }],\n    isOpenChange: [{ type: Output }],\n    onShown: [{ type: Output }],\n    onHidden: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsDropdown],[dropdown]',\n                exportAs: 'bs-dropdown',\n                providers: [BsDropdownState],\n                host: {\n                    '[class.dropup]': 'dropup',\n                    '[class.open]': 'isOpen',\n                    '[class.show]': 'isOpen && isBs4'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc2.ComponentLoaderFactory }, { type: BsDropdownState }, { type: BsDropdownConfig }, { type: ɵngcc1.AnimationBuilder }]; }, { onShown: [{\n            type: Output\n        }], onHidden: [{\n            type: Output\n        }], isOpenChange: [{\n            type: Output\n        }], autoClose: [{\n            type: Input\n        }], isAnimated: [{\n            type: Input\n        }], insideClick: [{\n            type: Input\n        }], isDisabled: [{\n            type: Input\n        }], isOpen: [{\n            type: Input\n        }], placement: [{\n            type: Input\n        }], triggers: [{\n            type: Input\n        }], container: [{\n            type: Input\n        }], dropup: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * Placement of a popover. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.placement;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.triggers;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.container;\n    /**\n     * This attribute indicates that the dropdown should be opened upwards\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.dropup;\n    /**\n     * Emits an event when isOpen change\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.isOpenChange;\n    /**\n     * Emits an event when the popover is shown\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.onShown;\n    /**\n     * Emits an event when the popover is hidden\n     * @type {?}\n     */\n    BsDropdownDirective.prototype.onHidden;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._dropdown;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._isInlineOpen;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._inlinedMenu;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._isDisabled;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._subscriptions;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._isInited;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._factoryDropDownAnimation;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._viewContainerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._cis;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._state;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownDirective.prototype._config;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsDropdownMenuDirective {\n    // tslint:disable:no-any\n    /**\n     * @param {?} _state\n     * @param {?} _viewContainer\n     * @param {?} _templateRef\n     */\n    constructor(_state, _viewContainer, _templateRef) {\n        _state.resolveDropdownMenu({\n            templateRef: _templateRef,\n            viewContainer: _viewContainer\n        });\n    }\n}\nBsDropdownMenuDirective.ɵfac = function BsDropdownMenuDirective_Factory(t) { return new (t || BsDropdownMenuDirective)(ɵngcc0.ɵɵdirectiveInject(BsDropdownState), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef)); };\nBsDropdownMenuDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BsDropdownMenuDirective, selectors: [[\"\", \"bsDropdownMenu\", \"\"], [\"\", \"dropdownMenu\", \"\"]], exportAs: [\"bs-dropdown-menu\"] });\n/** @nocollapse */\nBsDropdownMenuDirective.ctorParameters = () => [\n    { type: BsDropdownState },\n    { type: ViewContainerRef },\n    { type: TemplateRef }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownMenuDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsDropdownMenu],[dropdownMenu]',\n                exportAs: 'bs-dropdown-menu'\n            }]\n    }], function () { return [{ type: BsDropdownState }, { type: ɵngcc0.ViewContainerRef }, { type: ɵngcc0.TemplateRef }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsDropdownToggleDirective {\n    /**\n     * @param {?} _changeDetectorRef\n     * @param {?} _dropdown\n     * @param {?} _element\n     * @param {?} _renderer\n     * @param {?} _state\n     */\n    constructor(_changeDetectorRef, _dropdown, _element, _renderer, _state) {\n        this._changeDetectorRef = _changeDetectorRef;\n        this._dropdown = _dropdown;\n        this._element = _element;\n        this._renderer = _renderer;\n        this._state = _state;\n        this.isDisabled = null;\n        this._subscriptions = [];\n        // sync is open value with state\n        this._subscriptions.push(this._state.isOpenChange.subscribe((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => {\n            this.isOpen = value;\n            if (value) {\n                this._documentClickListener = this._renderer.listen('document', 'click', (/**\n                 * @param {?} event\n                 * @return {?}\n                 */\n                (event) => {\n                    if (this._state.autoClose && event.button !== 2 &&\n                        !this._element.nativeElement.contains(event.target) &&\n                        !(this._state.insideClick && this._dropdown._contains(event))) {\n                        this._state.toggleClick.emit(false);\n                        this._changeDetectorRef.detectChanges();\n                    }\n                }));\n                this._escKeyUpListener = this._renderer.listen(this._element.nativeElement, 'keyup.esc', (/**\n                 * @return {?}\n                 */\n                () => {\n                    if (this._state.autoClose) {\n                        this._state.toggleClick.emit(false);\n                        this._changeDetectorRef.detectChanges();\n                    }\n                }));\n            }\n            else {\n                this._documentClickListener();\n                this._escKeyUpListener();\n            }\n        })));\n        // populate disabled state\n        this._subscriptions.push(this._state.isDisabledChange.subscribe((/**\n         * @param {?} value\n         * @return {?}\n         */\n        (value) => (this.isDisabled = value || null))));\n    }\n    /**\n     * @return {?}\n     */\n    onClick() {\n        if (this.isDisabled) {\n            return;\n        }\n        this._state.toggleClick.emit(true);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        if (this._documentClickListener) {\n            this._documentClickListener();\n        }\n        if (this._escKeyUpListener) {\n            this._escKeyUpListener();\n        }\n        for (const sub of this._subscriptions) {\n            sub.unsubscribe();\n        }\n    }\n}\nBsDropdownToggleDirective.ɵfac = function BsDropdownToggleDirective_Factory(t) { return new (t || BsDropdownToggleDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(BsDropdownDirective), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(BsDropdownState)); };\nBsDropdownToggleDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: BsDropdownToggleDirective, selectors: [[\"\", \"bsDropdownToggle\", \"\"], [\"\", \"dropdownToggle\", \"\"]], hostVars: 3, hostBindings: function BsDropdownToggleDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function BsDropdownToggleDirective_click_HostBindingHandler() { return ctx.onClick(); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-haspopup\", true)(\"disabled\", ctx.isDisabled)(\"aria-expanded\", ctx.isOpen);\n    } }, exportAs: [\"bs-dropdown-toggle\"] });\n/** @nocollapse */\nBsDropdownToggleDirective.ctorParameters = () => [\n    { type: ChangeDetectorRef },\n    { type: BsDropdownDirective },\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: BsDropdownState }\n];\nBsDropdownToggleDirective.propDecorators = {\n    isDisabled: [{ type: HostBinding, args: ['attr.disabled',] }],\n    isOpen: [{ type: HostBinding, args: ['attr.aria-expanded',] }],\n    onClick: [{ type: HostListener, args: ['click', [],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownToggleDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[bsDropdownToggle],[dropdownToggle]',\n                exportAs: 'bs-dropdown-toggle',\n                host: {\n                    '[attr.aria-haspopup]': 'true'\n                }\n            }]\n    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: BsDropdownDirective }, { type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: BsDropdownState }]; }, { isDisabled: [{\n            type: HostBinding,\n            args: ['attr.disabled']\n        }], isOpen: [{\n            type: HostBinding,\n            args: ['attr.aria-expanded']\n        }], \n    /**\n     * @return {?}\n     */\n    onClick: [{\n            type: HostListener,\n            args: ['click', []]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    BsDropdownToggleDirective.prototype.isDisabled;\n    /** @type {?} */\n    BsDropdownToggleDirective.prototype.isOpen;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._subscriptions;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._documentClickListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._escKeyUpListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._changeDetectorRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._dropdown;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    BsDropdownToggleDirective.prototype._state;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass BsDropdownModule {\n    // tslint:disable-next-line:no-any\n    /**\n     * @param {?=} config\n     * @return {?}\n     */\n    static forRoot(config) {\n        return {\n            ngModule: BsDropdownModule,\n            providers: [\n                ComponentLoaderFactory,\n                PositioningService,\n                BsDropdownState\n            ]\n        };\n    }\n}\nBsDropdownModule.ɵfac = function BsDropdownModule_Factory(t) { return new (t || BsDropdownModule)(); };\nBsDropdownModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: BsDropdownModule });\nBsDropdownModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(BsDropdownModule, { declarations: [BsDropdownMenuDirective, BsDropdownToggleDirective, BsDropdownContainerComponent, BsDropdownDirective], exports: [BsDropdownMenuDirective, BsDropdownToggleDirective, BsDropdownDirective] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BsDropdownModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    BsDropdownMenuDirective,\n                    BsDropdownToggleDirective,\n                    BsDropdownContainerComponent,\n                    BsDropdownDirective\n                ],\n                exports: [\n                    BsDropdownMenuDirective,\n                    BsDropdownToggleDirective,\n                    BsDropdownDirective\n                ],\n                entryComponents: [BsDropdownContainerComponent]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsDropdownConfig, BsDropdownContainerComponent, BsDropdownDirective, BsDropdownMenuDirective, BsDropdownModule, BsDropdownState, BsDropdownToggleDirective };\n\n//# sourceMappingURL=ngx-bootstrap-dropdown.js.map","import { isDevMode } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass Trigger {\n    /**\n     * @param {?} open\n     * @param {?=} close\n     */\n    constructor(open, close) {\n        this.open = open;\n        this.close = close || open;\n    }\n    /**\n     * @return {?}\n     */\n    isManual() {\n        return this.open === 'manual' || this.close === 'manual';\n    }\n}\nif (false) {\n    /** @type {?} */\n    Trigger.prototype.open;\n    /** @type {?} */\n    Trigger.prototype.close;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction ListenOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    ListenOptions.prototype.target;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.targets;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.triggers;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideClick;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideEsc;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.show;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.hide;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.toggle;\n}\n/** @type {?} */\nconst DEFAULT_ALIASES = {\n    hover: ['mouseover', 'mouseout'],\n    focus: ['focusin', 'focusout']\n};\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?} triggers\n * @param {?=} aliases\n * @return {?}\n */\nfunction parseTriggers(triggers, aliases = DEFAULT_ALIASES) {\n    /** @type {?} */\n    const trimmedTriggers = (triggers || '').trim();\n    if (trimmedTriggers.length === 0) {\n        return [];\n    }\n    /** @type {?} */\n    const parsedTriggers = trimmedTriggers\n        .split(/\\s+/)\n        .map((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => trigger.split(':')))\n        .map((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => {\n        /** @type {?} */\n        const alias = aliases[triggerPair[0]] || triggerPair;\n        return new Trigger(alias[0], alias[1]);\n    }));\n    /** @type {?} */\n    const manualTriggers = parsedTriggers.filter((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => triggerPair.isManual()));\n    if (manualTriggers.length > 1) {\n        throw new Error('Triggers parse error: only one manual trigger is allowed');\n    }\n    if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\n        throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\n    }\n    return parsedTriggers;\n}\n/**\n * @param {?} renderer\n * @param {?} target\n * @param {?} triggers\n * @param {?} showFn\n * @param {?} hideFn\n * @param {?} toggleFn\n * @return {?}\n */\nfunction listenToTriggers(renderer, \n/* tslint:disable-next-line: no-any */\ntarget, triggers, showFn, hideFn, toggleFn) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(triggers);\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        if (trigger.open === trigger.close) {\n            listeners.push(renderer.listen(target, trigger.open, toggleFn));\n            return;\n        }\n        listeners.push(renderer.listen(target, trigger.open, showFn), renderer.listen(target, trigger.close, hideFn));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction listenToTriggersV2(renderer, options) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(options.triggers);\n    /** @type {?} */\n    const target = options.target;\n    // do nothing\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    // all listeners\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    // lazy listeners registration\n    /** @type {?} */\n    const _registerHide = [];\n    /** @type {?} */\n    const registerHide = (/**\n     * @return {?}\n     */\n    () => {\n        // add hide listeners to unregister array\n        _registerHide.forEach((/**\n         * @param {?} fn\n         * @return {?}\n         */\n        (fn) => listeners.push(fn())));\n        // register hide events only once\n        _registerHide.length = 0;\n    });\n    // register open\\close\\toggle listeners\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        /** @type {?} */\n        const useToggle = trigger.open === trigger.close;\n        /** @type {?} */\n        const showFn = useToggle ? options.toggle : options.show;\n        if (!useToggle) {\n            _registerHide.push((/**\n             * @return {?}\n             */\n            () => renderer.listen(target, trigger.close, options.hide)));\n        }\n        listeners.push(renderer.listen(target, trigger.open, (/**\n         * @return {?}\n         */\n        () => showFn(registerHide))));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerOutsideClick(renderer, options) {\n    if (!options.outsideClick) {\n        return Function.prototype;\n    }\n    /* tslint:disable-next-line: no-any */\n    return renderer.listen('document', 'click', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerEscClick(renderer, options) {\n    if (!options.outsideEsc) {\n        return Function.prototype;\n    }\n    return renderer.listen('document', 'keyup.esc', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * JS version of browser APIs. This library can only run in the browser.\n * @type {?}\n */\nconst win = (typeof window !== 'undefined' && window) || (/** @type {?} */ ({}));\n/** @type {?} */\nconst document$1 = win.document;\n/** @type {?} */\nconst location = win.location;\n/** @type {?} */\nconst gc = win.gc ? (/**\n * @return {?}\n */\n() => win.gc()) : (/**\n * @return {?}\n */\n() => null);\n/** @type {?} */\nconst performance = win.performance ? win.performance : null;\n/** @type {?} */\nconst Event = win.Event;\n/** @type {?} */\nconst MouseEvent = win.MouseEvent;\n/** @type {?} */\nconst KeyboardEvent = win.KeyboardEvent;\n/** @type {?} */\nconst EventTarget = win.EventTarget;\n/** @type {?} */\nconst History = win.History;\n/** @type {?} */\nconst Location = win.Location;\n/** @type {?} */\nconst EventListener = win.EventListener;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nlet guessedVersion;\n/**\n * @return {?}\n */\nfunction _guessBsVersion() {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    /** @type {?} */\n    const spanEl = document.createElement('span');\n    spanEl.innerText = 'test bs version';\n    document.body.appendChild(spanEl);\n    spanEl.classList.add('d-none');\n    /** @type {?} */\n    const rect = spanEl.getBoundingClientRect();\n    document.body.removeChild(spanEl);\n    if (!rect) {\n        return 'bs3';\n    }\n    return rect.top === 0 ? 'bs4' : 'bs3';\n}\n/**\n * @param {?} theme\n * @return {?}\n */\nfunction setTheme(theme) {\n    guessedVersion = theme;\n}\n// todo: in ngx-bootstrap, bs4 will became a default one\n/**\n * @return {?}\n */\nfunction isBs3() {\n    if (typeof win === 'undefined') {\n        return true;\n    }\n    if (typeof win.__theme === 'undefined') {\n        if (guessedVersion) {\n            return guessedVersion === 'bs3';\n        }\n        guessedVersion = _guessBsVersion();\n        return guessedVersion === 'bs3';\n    }\n    return win.__theme !== 'bs4';\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass LinkedList {\n    constructor() {\n        this.length = 0;\n        this.asArray = [];\n        // Array methods overriding END\n    }\n    /**\n     * @param {?} position\n     * @return {?}\n     */\n    get(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            return void 0;\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current.value;\n    }\n    /**\n     * @param {?} value\n     * @param {?=} position\n     * @return {?}\n     */\n    add(value, position = this.length) {\n        if (position < 0 || position > this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const node = {\n            value,\n            next: undefined,\n            previous: undefined\n        };\n        if (this.length === 0) {\n            this.head = node;\n            this.tail = node;\n            this.current = node;\n        }\n        else {\n            if (position === 0) {\n                // first node\n                node.next = this.head;\n                this.head.previous = node;\n                this.head = node;\n            }\n            else if (position === this.length) {\n                // last node\n                this.tail.next = node;\n                node.previous = this.tail;\n                this.tail = node;\n            }\n            else {\n                // node in middle\n                /** @type {?} */\n                const currentPreviousNode = this.getNode(position - 1);\n                /** @type {?} */\n                const currentNextNode = currentPreviousNode.next;\n                currentPreviousNode.next = node;\n                currentNextNode.previous = node;\n                node.previous = currentPreviousNode;\n                node.next = currentNextNode;\n            }\n        }\n        this.length++;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?=} position\n     * @return {?}\n     */\n    remove(position = 0) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        if (position === 0) {\n            // first node\n            this.head = this.head.next;\n            if (this.head) {\n                // there is no second node\n                this.head.previous = undefined;\n            }\n            else {\n                // there is no second node\n                this.tail = undefined;\n            }\n        }\n        else if (position === this.length - 1) {\n            // last node\n            this.tail = this.tail.previous;\n            this.tail.next = undefined;\n        }\n        else {\n            // middle node\n            /** @type {?} */\n            const removedNode = this.getNode(position);\n            removedNode.next.previous = removedNode.previous;\n            removedNode.previous.next = removedNode.next;\n        }\n        this.length--;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?} position\n     * @param {?} value\n     * @return {?}\n     */\n    set(position, value) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        const node = this.getNode(position);\n        node.value = value;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @return {?}\n     */\n    toArray() {\n        return this.asArray;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findAll(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const result = [];\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result.push({ index, value: current.value });\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    // Array methods overriding start\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    push(...args) {\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    pop() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const last = this.tail;\n        this.remove(this.length - 1);\n        return last.value;\n    }\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    unshift(...args) {\n        args.reverse();\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg, 0);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    shift() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const lastItem = this.head.value;\n        this.remove();\n        return lastItem;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    forEach(fn) {\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < this.length; index++) {\n            fn(current.value, index);\n            current = current.next;\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    indexOf(value) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let position = 0;\n        for (let index = 0; index < this.length; index++) {\n            if (current.value === value) {\n                position = index;\n                break;\n            }\n            current = current.next;\n        }\n        return position;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    some(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = false;\n        while (current && !result) {\n            if (fn(current.value)) {\n                result = true;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    every(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = true;\n        while (current && result) {\n            if (!fn(current.value)) {\n                result = false;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /**\n     * @return {?}\n     */\n    toString() {\n        return '[Linked List]';\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    find(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = current.value;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findIndex(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = index;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @protected\n     * @param {?} position\n     * @return {?}\n     */\n    getNode(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current;\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    createInternalArrayRepresentation() {\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const outArray = [];\n        /** @type {?} */\n        let current = this.head;\n        while (current) {\n            outArray.push(current.value);\n            current = current.next;\n        }\n        this.asArray = outArray;\n    }\n}\nif (false) {\n    /** @type {?} */\n    LinkedList.prototype.length;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.head;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.tail;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.current;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.asArray;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*tslint:disable:no-invalid-this */\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?=} defaultValue\n * @return {?}\n */\nfunction OnChange(defaultValue) {\n    /** @type {?} */\n    const sufix = 'Change';\n    /* tslint:disable-next-line: no-any */\n    return (/**\n     * @param {?} target\n     * @param {?} propertyKey\n     * @return {?}\n     */\n    function OnChangeHandler(target, propertyKey) {\n        /** @type {?} */\n        const _key = ` __${propertyKey}Value`;\n        Object.defineProperty(target, propertyKey, {\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @return {?}\n             */\n            get() {\n                return this[_key];\n            },\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @param {?} value\n             * @return {?}\n             */\n            set(value) {\n                /** @type {?} */\n                const prevValue = this[_key];\n                this[_key] = value;\n                if (prevValue !== value && this[propertyKey + sufix]) {\n                    this[propertyKey + sufix].emit(value);\n                }\n            }\n        });\n    });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Utils {\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    static reflow(element) {\n        /* tslint:disable-next-line: no-any */\n        ((/**\n         * @param {?} bs\n         * @return {?}\n         */\n        (bs) => bs))(element.offsetHeight);\n    }\n    // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} elem\n     * @return {?}\n     */\n    static getStyles(elem) {\n        // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n        // IE throws on elements created in popups\n        // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n        /** @type {?} */\n        let view = elem.ownerDocument.defaultView;\n        if (!view || !view.opener) {\n            view = win;\n        }\n        return view.getComputedStyle(elem);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst _messagesHash = {};\n/** @type {?} */\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\n/**\n * @param {?} msg\n * @return {?}\n */\nfunction warnOnce(msg) {\n    if (!isDevMode() || _hideMsg || msg in _messagesHash) {\n        return;\n    }\n    _messagesHash[msg] = true;\n    /*tslint:disable-next-line*/\n    console.warn(msg);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { LinkedList, OnChange, Trigger, Utils, document$1 as document, isBs3, listenToTriggers, listenToTriggersV2, parseTriggers, registerEscClick, registerOutsideClick, setTheme, warnOnce, win as window };\n\n//# sourceMappingURL=ngx-bootstrap-utils.js.map","import { EventEmitter, Injector, ElementRef, TemplateRef, Injectable, ComponentFactoryResolver, NgZone, ApplicationRef } from '@angular/core';\nimport { listenToTriggersV2, registerOutsideClick, registerEscClick } from 'ngx-bootstrap/utils';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/positioning';\nclass BsComponentRef {\n}\nif (false) {\n    /** @type {?} */\n    BsComponentRef.prototype.templateRef;\n    /** @type {?} */\n    BsComponentRef.prototype.viewContainer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass ContentRef {\n    /**\n     * @param {?} nodes\n     * @param {?=} viewRef\n     * @param {?=} componentRef\n     */\n    constructor(\n    /* tslint:disable-next-line: no-any */\n    nodes, viewRef, \n    /* tslint:disable-next-line: no-any */\n    componentRef) {\n        this.nodes = nodes;\n        this.viewRef = viewRef;\n        this.componentRef = componentRef;\n    }\n}\nif (false) {\n    /** @type {?} */\n    ContentRef.prototype.nodes;\n    /** @type {?} */\n    ContentRef.prototype.viewRef;\n    /** @type {?} */\n    ContentRef.prototype.componentRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass ComponentLoader {\n    /**\n     * Do not use this directly, it should be instanced via\n     * `ComponentLoadFactory.attach`\n     * \\@internal\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} _elementRef\n     * @param {?} _injector\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _applicationRef\n     * @param {?} _posService\n     */\n    // tslint:disable-next-line\n    constructor(_viewContainerRef, _renderer, _elementRef, _injector, _componentFactoryResolver, _ngZone, _applicationRef, _posService) {\n        this._viewContainerRef = _viewContainerRef;\n        this._renderer = _renderer;\n        this._elementRef = _elementRef;\n        this._injector = _injector;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._applicationRef = _applicationRef;\n        this._posService = _posService;\n        this.onBeforeShow = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onShown = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onBeforeHide = new EventEmitter();\n        this.onHidden = new EventEmitter();\n        this._providers = [];\n        this._isHiding = false;\n        /**\n         * A selector used if container element was not found\n         */\n        this.containerDefaultSelector = 'body';\n        this._listenOpts = {};\n        this._globalListener = Function.prototype;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        if (this._isHiding) {\n            return false;\n        }\n        return !!this._componentRef;\n    }\n    /**\n     * @param {?} compType\n     * @return {?}\n     */\n    attach(compType) {\n        this._componentFactory = this._componentFactoryResolver\n            .resolveComponentFactory(compType);\n        return this;\n    }\n    // todo: add behaviour: to target element, `body`, custom element\n    /**\n     * @param {?=} container\n     * @return {?}\n     */\n    to(container) {\n        this.container = container || this.container;\n        return this;\n    }\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    position(opts) {\n        this.attachment = opts.attachment || this.attachment;\n        /* tslint:disable-next-line: no-unnecessary-type-assertion */\n        this._elementRef = ((/** @type {?} */ (opts.target))) || this._elementRef;\n        return this;\n    }\n    /**\n     * @param {?} provider\n     * @return {?}\n     */\n    provide(provider) {\n        this._providers.push(provider);\n        return this;\n    }\n    // todo: appendChild to element or document.querySelector(this.container)\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    show(opts = {}) {\n        this._subscribePositioning();\n        this._innerComponent = null;\n        if (!this._componentRef) {\n            this.onBeforeShow.emit();\n            this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\n            /** @type {?} */\n            const injector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\n            this._applicationRef.attachView(this._componentRef.hostView);\n            // this._componentRef = this._viewContainerRef\n            //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\n            this.instance = this._componentRef.instance;\n            Object.assign(this._componentRef.instance, opts);\n            if (this.container instanceof ElementRef) {\n                this.container.nativeElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (typeof this.container === 'string' && typeof document !== 'undefined') {\n                /** @type {?} */\n                const selectedElement = document.querySelector(this.container) ||\n                    document.querySelector(this.containerDefaultSelector);\n                selectedElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (!this.container &&\n                this._elementRef &&\n                this._elementRef.nativeElement.parentElement) {\n                this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            // we need to manually invoke change detection since events registered\n            // via\n            // Renderer::listen() are not picked up by change detection with the\n            // OnPush strategy\n            if (this._contentRef.componentRef) {\n                this._innerComponent = this._contentRef.componentRef.instance;\n                this._contentRef.componentRef.changeDetectorRef.markForCheck();\n                this._contentRef.componentRef.changeDetectorRef.detectChanges();\n            }\n            this._componentRef.changeDetectorRef.markForCheck();\n            this._componentRef.changeDetectorRef.detectChanges();\n            this.onShown.emit(opts.id ? { id: opts.id } : this._componentRef.instance);\n        }\n        this._registerOutsideClick();\n        return this._componentRef;\n    }\n    /**\n     * @param {?=} id\n     * @return {?}\n     */\n    hide(id) {\n        if (!this._componentRef) {\n            return this;\n        }\n        this._posService.deletePositionElement(this._componentRef.location);\n        this.onBeforeHide.emit(this._componentRef.instance);\n        /** @type {?} */\n        const componentEl = this._componentRef.location.nativeElement;\n        componentEl.parentNode.removeChild(componentEl);\n        if (this._contentRef.componentRef) {\n            this._contentRef.componentRef.destroy();\n        }\n        if (this._viewContainerRef && this._contentRef.viewRef) {\n            this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\n        }\n        if (this._contentRef.viewRef) {\n            this._contentRef.viewRef.destroy();\n        }\n        this._contentRef = null;\n        this._componentRef = null;\n        this._removeGlobalListener();\n        this.onHidden.emit(id ? { id } : null);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    toggle() {\n        if (this.isShown) {\n            this.hide();\n            return;\n        }\n        this.show();\n    }\n    /**\n     * @return {?}\n     */\n    dispose() {\n        if (this.isShown) {\n            this.hide();\n        }\n        this._unsubscribePositioning();\n        if (this._unregisterListenersFn) {\n            this._unregisterListenersFn();\n        }\n    }\n    /**\n     * @param {?} listenOpts\n     * @return {?}\n     */\n    listen(listenOpts) {\n        this.triggers = listenOpts.triggers || this.triggers;\n        this._listenOpts.outsideClick = listenOpts.outsideClick;\n        this._listenOpts.outsideEsc = listenOpts.outsideEsc;\n        listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\n        /** @type {?} */\n        const hide = (this._listenOpts.hide = (/**\n         * @return {?}\n         */\n        () => listenOpts.hide ? listenOpts.hide() : void this.hide()));\n        /** @type {?} */\n        const show = (this._listenOpts.show = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\n            registerHide();\n        }));\n        /** @type {?} */\n        const toggle = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            this.isShown ? hide() : show(registerHide);\n        });\n        this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\n            target: listenOpts.target,\n            triggers: listenOpts.triggers,\n            show,\n            hide,\n            toggle\n        });\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _removeGlobalListener() {\n        if (this._globalListener) {\n            this._globalListener();\n            this._globalListener = null;\n        }\n    }\n    /**\n     * @param {?} vRef\n     * @param {?} template\n     * @return {?}\n     */\n    attachInline(vRef, \n    /* tslint:disable-next-line: no-any*/\n    template) {\n        this._inlineViewRef = vRef.createEmbeddedView(template);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _registerOutsideClick() {\n        if (!this._componentRef || !this._componentRef.location) {\n            return;\n        }\n        // why: should run after first event bubble\n        if (this._listenOpts.outsideClick) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this._globalListener = registerOutsideClick(this._renderer, {\n                    targets: [target, this._elementRef.nativeElement],\n                    outsideClick: this._listenOpts.outsideClick,\n                    hide: (/**\n                     * @return {?}\n                     */\n                    () => this._listenOpts.hide())\n                });\n            }));\n        }\n        if (this._listenOpts.outsideEsc) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            this._globalListener = registerEscClick(this._renderer, {\n                targets: [target, this._elementRef.nativeElement],\n                outsideEsc: this._listenOpts.outsideEsc,\n                hide: (/**\n                 * @return {?}\n                 */\n                () => this._listenOpts.hide())\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getInnerComponent() {\n        return this._innerComponent;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _subscribePositioning() {\n        if (this._zoneSubscription || !this.attachment) {\n            return;\n        }\n        this.onShown.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this._posService.position({\n                element: this._componentRef.location,\n                target: this._elementRef,\n                attachment: this.attachment,\n                appendToBody: this.container === 'body'\n            });\n        }));\n        this._zoneSubscription = this._ngZone.onStable.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            if (!this._componentRef) {\n                return;\n            }\n            this._posService.calcPosition();\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _unsubscribePositioning() {\n        if (!this._zoneSubscription) {\n            return;\n        }\n        this._zoneSubscription.unsubscribe();\n        this._zoneSubscription = null;\n    }\n    /**\n     * @private\n     * @param {?} content\n     * @param {?=} context\n     * @param {?=} initialState\n     * @return {?}\n     */\n    _getContentRef(\n    /* tslint:disable-next-line: no-any*/\n    content, \n    /* tslint:disable-next-line: no-any*/\n    context, \n    /* tslint:disable-next-line: no-any*/\n    initialState) {\n        if (!content) {\n            return new ContentRef([]);\n        }\n        if (content instanceof TemplateRef) {\n            if (this._viewContainerRef) {\n                /** @type {?} */\n                const _viewRef = this._viewContainerRef\n                    .createEmbeddedView(content, context);\n                _viewRef.markForCheck();\n                return new ContentRef([_viewRef.rootNodes], _viewRef);\n            }\n            /** @type {?} */\n            const viewRef = content.createEmbeddedView({});\n            this._applicationRef.attachView(viewRef);\n            return new ContentRef([viewRef.rootNodes], viewRef);\n        }\n        if (typeof content === 'function') {\n            /** @type {?} */\n            const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(content);\n            /** @type {?} */\n            const modalContentInjector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            /** @type {?} */\n            const componentRef = contentCmptFactory.create(modalContentInjector);\n            Object.assign(componentRef.instance, initialState);\n            this._applicationRef.attachView(componentRef.hostView);\n            return new ContentRef([[componentRef.location.nativeElement]], componentRef.hostView, componentRef);\n        }\n        return new ContentRef([[this._renderer.createText(`${content}`)]]);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeShow;\n    /** @type {?} */\n    ComponentLoader.prototype.onShown;\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeHide;\n    /** @type {?} */\n    ComponentLoader.prototype.onHidden;\n    /** @type {?} */\n    ComponentLoader.prototype.instance;\n    /** @type {?} */\n    ComponentLoader.prototype._componentRef;\n    /** @type {?} */\n    ComponentLoader.prototype._inlineViewRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._providers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactory;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._zoneSubscription;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._contentRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._innerComponent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._unregisterListenersFn;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._isHiding;\n    /**\n     * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.attachment;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.container;\n    /**\n     * A selector used if container element was not found\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.containerDefaultSelector;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.triggers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._listenOpts;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._globalListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._viewContainerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._applicationRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._posService;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ComponentLoaderFactory {\n    /**\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _injector\n     * @param {?} _posService\n     * @param {?} _applicationRef\n     */\n    constructor(_componentFactoryResolver, _ngZone, _injector, _posService, _applicationRef) {\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._injector = _injector;\n        this._posService = _posService;\n        this._applicationRef = _applicationRef;\n    }\n    /**\n     *\n     * @template T\n     * @param {?} _elementRef\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @return {?}\n     */\n    createLoader(_elementRef, _viewContainerRef, _renderer) {\n        return new ComponentLoader(_viewContainerRef, _renderer, _elementRef, this._injector, this._componentFactoryResolver, this._ngZone, this._applicationRef, this._posService);\n    }\n}\nComponentLoaderFactory.ɵfac = function ComponentLoaderFactory_Factory(t) { return new (t || ComponentLoaderFactory)(ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc1.PositioningService), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef)); };\nComponentLoaderFactory.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ComponentLoaderFactory, factory: ComponentLoaderFactory.ɵfac });\n/** @nocollapse */\nComponentLoaderFactory.ctorParameters = () => [\n    { type: ComponentFactoryResolver },\n    { type: NgZone },\n    { type: Injector },\n    { type: PositioningService },\n    { type: ApplicationRef }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComponentLoaderFactory, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.Injector }, { type: ɵngcc1.PositioningService }, { type: ɵngcc0.ApplicationRef }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._posService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._applicationRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsComponentRef, ComponentLoader, ComponentLoaderFactory, ContentRef };\n\n//# sourceMappingURL=ngx-bootstrap-component-loader.js.map"]}