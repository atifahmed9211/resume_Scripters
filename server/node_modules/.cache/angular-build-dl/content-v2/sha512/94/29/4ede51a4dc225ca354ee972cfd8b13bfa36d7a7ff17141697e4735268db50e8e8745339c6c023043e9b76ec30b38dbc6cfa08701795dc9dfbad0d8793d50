(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["package-package-module"],{

/***/ "7bXN":
/*!**************************************************************************!*\
  !*** ./src/app/admin/package/create-package/create-package.component.ts ***!
  \**************************************************************************/
/*! exports provided: CreatePackageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreatePackageComponent", function() { return CreatePackageComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_create_package_component_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./create-package.component.html */ "aVrM");
/* harmony import */ var _create_package_component_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./create-package.component.scss */ "nxMo");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "s7LF");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "iInd");
/* harmony import */ var _admin_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../admin.service */ "l3fW");







let CreatePackageComponent = class CreatePackageComponent {
    constructor(fb, as, router, route) {
        this.fb = fb;
        this.as = as;
        this.router = router;
        this.route = route;
        this.packageForm = this.fb.group({
            id: [null],
            title: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            description: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            price: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            services: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
            service_type: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]]
        });
        this.services = [];
        this.btnText = 'Submit';
    }
    ngOnInit() {
        this.getServices();
        let id = this.router.snapshot.paramMap.get("id");
        if (id) {
            this.getPackage(id);
        }
    }
    createPackage() {
        let pkg = this.packageForm.value;
        if (pkg.id) {
            this.as.updatePackage(pkg).subscribe((res) => {
                this.route.navigateByUrl("/admin/package/all");
            }, (error) => {
                console.log(error);
            });
        }
        else {
            this.as.createPackage(pkg).subscribe((res) => {
                this.route.navigateByUrl("/admin/package/all");
            }, (error) => {
                console.log(error);
            });
        }
    }
    getPackage(id) {
        this.as.getPackageById(id).subscribe((res) => {
            let pkg = res.package;
            let servicesIds = [];
            pkg.services.forEach(element => {
                servicesIds.push(element.id);
            });
            console.log(servicesIds);
            this.packageForm.patchValue({
                id: pkg.id,
                title: pkg.title,
                description: pkg.description,
                price: pkg.price,
                services: servicesIds,
                service_type: pkg.service_types[0].name
            });
            this.btnText = "Update";
        }, (error) => {
            console.log(error);
        });
    }
    getServices() {
        this.as.getAllServices().subscribe((res) => {
            console.log(res);
            this.services = res.services;
        }, (error) => {
            console.log(error);
        });
    }
};
CreatePackageComponent.ctorParameters = () => [
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"] },
    { type: _admin_service__WEBPACK_IMPORTED_MODULE_6__["AdminService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"] }
];
CreatePackageComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-create-package',
        template: _raw_loader_create_package_component_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        styles: [_create_package_component_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"],
        _admin_service__WEBPACK_IMPORTED_MODULE_6__["AdminService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_5__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
], CreatePackageComponent);



/***/ }),

/***/ "IZiH":
/*!*********************************************************!*\
  !*** ./src/app/admin/package/package-routing.module.ts ***!
  \*********************************************************/
/*! exports provided: PackageRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PackageRoutingModule", function() { return PackageRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "iInd");
/* harmony import */ var _create_package_create_package_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./create-package/create-package.component */ "7bXN");
/* harmony import */ var _packages_packages_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./packages/packages.component */ "z7e4");





const routes = [
    {
        path: "",
        data: {
            title: 'Packages'
        },
        children: [
            {
                path: 'all',
                component: _packages_packages_component__WEBPACK_IMPORTED_MODULE_4__["PackagesComponent"],
                data: {
                    title: 'All Packages'
                }
            },
            {
                path: "edit/:id",
                component: _create_package_create_package_component__WEBPACK_IMPORTED_MODULE_3__["CreatePackageComponent"],
                data: {
                    title: 'Update Package'
                }
            },
            {
                path: 'create',
                component: _create_package_create_package_component__WEBPACK_IMPORTED_MODULE_3__["CreatePackageComponent"],
                data: {
                    title: 'Create Package'
                }
            },
            {
                path: '',
                redirectTo: "all"
            }
        ]
    }
];
let PackageRoutingModule = class PackageRoutingModule {
};
PackageRoutingModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
    })
], PackageRoutingModule);



/***/ }),

/***/ "UIlo":
/*!*************************************************!*\
  !*** ./src/app/admin/package/package.module.ts ***!
  \*************************************************/
/*! exports provided: PackageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PackageModule", function() { return PackageModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "SVse");
/* harmony import */ var _package_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./package-routing.module */ "IZiH");
/* harmony import */ var _packages_packages_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./packages/packages.component */ "z7e4");
/* harmony import */ var _create_package_create_package_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./create-package/create-package.component */ "7bXN");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "s7LF");
/* harmony import */ var angular_datatables__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angular-datatables */ "oTcB");








let PackageModule = class PackageModule {
};
PackageModule = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [_packages_packages_component__WEBPACK_IMPORTED_MODULE_4__["PackagesComponent"], _create_package_create_package_component__WEBPACK_IMPORTED_MODULE_5__["CreatePackageComponent"]],
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ReactiveFormsModule"],
            angular_datatables__WEBPACK_IMPORTED_MODULE_7__["DataTablesModule"],
            _package_routing_module__WEBPACK_IMPORTED_MODULE_3__["PackageRoutingModule"]
        ]
    })
], PackageModule);



/***/ }),

/***/ "aVrM":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/admin/package/create-package/create-package.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"animated fadeIn\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <form [formGroup]=\"packageForm\" (submit)=\"createPackage()\">\n                <div class=\"form-group\">\n                    <label for=\"title\">Title:</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Title\" id=\"title\" formControlName=\"title\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"description\">Description:</label>\n                    <textarea class=\"form-control\" rows=\"5\" id=\"description\" formControlName=\"description\"></textarea>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"price\">Price:</label>\n                    <input type=\"number\" min=\"0\" class=\"form-control\" placeholder=\"Enter Price\" id=\"price\" formControlName=\"price\">\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"services\">Select Services:</label>\n                    <select class=\"form-control\" id=\"services\" formControlName=\"services\" multiple>\n                      <option *ngFor=\"let service of services;let i=index\" value=\"{{service.id}}\" [selected]=\"packageForm.get('services').value.indexOf(service.id)!=-1\">{{service.title}}</option>\n                    </select>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"service_type\">Select Service Type:</label>\n                    <select class=\"form-control\" id=\"service_type\" formControlName=\"service_type\">\n                      <option value=\"Private Sector\">Private Sector</option>\n                      <option value=\"Federal\">Federal</option>\n                    </select>\n                </div>\n                  \n                <button type=\"submit\" [disabled]=\"!packageForm.valid\" class=\"btn btn-success float-right\">{{btnText}}</button>\n            </form>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "dZMx":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/admin/package/packages/packages.component.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"animated fadeIn\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" class=\"table\">\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th>Title</th>\n                    <th>Description</th>\n                    <th>Price</th>\n                    <th>Services</th>\n                    <th>Service Type</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody *ngIf=\"packages?.length != 0\">\n                  <tr *ngFor=\"let package of packages; let i = index\">\n                    <td>{{ i + 1 }}</td>\n                    <td>{{ package.title }}</td>\n                    <td>{{ package.description }}</td>\n                    <td>{{ package.price }}</td>\n                    <td>\n                        <p *ngFor=\"let service of package.services\">{{service.title}}</p>\n                    </td>\n                    <td>{{ package.service_types[0].name }}</td>\n                    <td>\n                        <a routerLink=\"../edit/{{package.id}}\" class=\"btn btn-primary\"><i class=\"fa fa-edit\"></i></a>\n                        <a href=\"javascript:;\" (click)=\"deletePackage(package.id)\" class=\"btn btn-danger\"><i class=\"fa fa-trash\"></i></a>\n                    </td>\n                  </tr>\n                </tbody>\n                <tbody *ngIf=\"packages?.length == 0\">\n                    <tr>\n                        <td colspan=\"6\" class=\"no-data-available text-center\">No data!</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>");

/***/ }),

/***/ "nxMo":
/*!****************************************************************************!*\
  !*** ./src/app/admin/package/create-package/create-package.component.scss ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjcmVhdGUtcGFja2FnZS5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "xXqb":
/*!****************************************************************!*\
  !*** ./src/app/admin/package/packages/packages.component.scss ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYWNrYWdlcy5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "z7e4":
/*!**************************************************************!*\
  !*** ./src/app/admin/package/packages/packages.component.ts ***!
  \**************************************************************/
/*! exports provided: PackagesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PackagesComponent", function() { return PackagesComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _raw_loader_packages_component_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! raw-loader!./packages.component.html */ "dZMx");
/* harmony import */ var _packages_component_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./packages.component.scss */ "xXqb");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "8Y7J");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _admin_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../admin.service */ "l3fW");






let PackagesComponent = class PackagesComponent {
    constructor(as) {
        this.as = as;
        this.dtOptions = {};
        this.dtTrigger = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.packages = [];
        this.dtInitial = false;
    }
    ngOnInit() {
        this.getPackages();
    }
    getPackages() {
        this.as.getAllPackages().subscribe((res) => {
            this.packages = res.packages;
            this.dtTrigger.next();
        }, (error) => {
            console.log(error);
        });
    }
    deletePackage(id) {
        this.as.deletePackageById(id).subscribe((res) => {
            console.log(res);
            this.getPackages();
        }, (error) => {
            console.log(error);
        });
    }
    ngOnDestroy() {
        // Do not forget to unsubscribe the event
        this.dtTrigger.unsubscribe();
    }
};
PackagesComponent.ctorParameters = () => [
    { type: _admin_service__WEBPACK_IMPORTED_MODULE_5__["AdminService"] }
];
PackagesComponent = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"])([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
        selector: 'app-packages',
        template: _raw_loader_packages_component_html__WEBPACK_IMPORTED_MODULE_1__["default"],
        styles: [_packages_component_scss__WEBPACK_IMPORTED_MODULE_2__["default"]]
    }),
    Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"])("design:paramtypes", [_admin_service__WEBPACK_IMPORTED_MODULE_5__["AdminService"]])
], PackagesComponent);



/***/ })

}]);
//# sourceMappingURL=package-package-module-es2015.js.map