{"version":3,"sources":["webpack:///src/app/admin/package/create-package/create-package.component.ts","webpack:///src/app/admin/package/package-routing.module.ts","webpack:///src/app/admin/package/package.module.ts","webpack:///src/app/admin/package/create-package/create-package.component.html","webpack:///src/app/admin/package/packages/packages.component.html","webpack:///src/app/admin/package/create-package/create-package.component.scss","webpack:///src/app/admin/package/packages/packages.component.scss","webpack:///src/app/admin/package/packages/packages.component.ts"],"names":["CreatePackageComponent","fb","as","router","route","packageForm","group","id","title","required","description","price","services","service_type","btnText","getServices","snapshot","paramMap","get","getPackage","pkg","value","updatePackage","subscribe","res","navigateByUrl","error","console","log","createPackage","getPackageById","servicesIds","forEach","element","push","patchValue","service_types","name","getAllServices","selector","template","routes","path","data","children","component","redirectTo","PackageRoutingModule","imports","forChild","exports","PackageModule","declarations","PackagesComponent","dtOptions","dtTrigger","packages","dtInitial","getPackages","getAllPackages","next","deletePackageById","unsubscribe"],"mappings":"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","file":"package-package-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AdminService } from '../../admin.service';\n\n@Component({\n  selector: 'app-create-package',\n  templateUrl: './create-package.component.html',\n  styleUrls: ['./create-package.component.scss']\n})\nexport class CreatePackageComponent implements OnInit {\n\n  public packageForm = this.fb.group({\n    id           : [null],\n    title        : ['',[Validators.required]],\n    description  : ['',[Validators.required]],\n    price        : ['',[Validators.required]],\n    services     : ['',[Validators.required]],\n    service_type : ['',[Validators.required]]\n  });\n\n  public services = [];\n  public btnText  = 'Submit';\n\n  constructor(\n    private fb    :FormBuilder,\n    private as    : AdminService,\n    private router: ActivatedRoute,\n    private route : Router\n  ) { }\n\n  ngOnInit(): void {\n    this.getServices();\n    let id = this.router.snapshot.paramMap.get(\"id\");\n    if(id){\n      this.getPackage(id);\n    }\n  }\n\n  createPackage(){\n    let pkg = this.packageForm.value;\n    if(pkg.id){\n      this.as.updatePackage(pkg).subscribe((res)=>{\n        this.route.navigateByUrl(\"/admin/package/all\");\n      },\n      (error)=>{\n        console.log(error);\n      })\n    }else{\n      this.as.createPackage(pkg).subscribe((res)=>{\n        this.route.navigateByUrl(\"/admin/package/all\");\n      },\n      (error)=>{\n        console.log(error);\n      });\n    }\n    \n  }\n\n  getPackage(id){\n    this.as.getPackageById(id).subscribe((res)=>{\n      let pkg         = res.package;\n      let servicesIds = [];\n      pkg.services.forEach(element => {\n        servicesIds.push(element.id);\n      });\n      console.log(servicesIds);\n      this.packageForm.patchValue({\n        id          : pkg.id,\n        title       : pkg.title,\n        description : pkg.description,\n        price       : pkg.price,\n        services    : servicesIds,\n        service_type: pkg.service_types[0].name\n      });\n      this.btnText = \"Update\";\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n  getServices(){\n    this.as.getAllServices().subscribe((res)=>{\n      console.log(res);\n      this.services = res.services;\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CreatePackageComponent } from './create-package/create-package.component';\nimport { PackagesComponent } from './packages/packages.component';\n\nconst routes: Routes = [\n  {\n    path:\"\",\n    data: {\n      title: 'Packages'\n    },\n    children:[\n      {\n        path:'all',\n        component:PackagesComponent,\n        data: {\n          title: 'All Packages'\n        }\n      },\n      {\n        path:\"edit/:id\",\n        component:CreatePackageComponent,\n        data: {\n          title: 'Update Package'\n        }\n      },\n      {\n        path:'create',\n        component:CreatePackageComponent,\n        data: {\n          title: 'Create Package'\n        }\n      },\n      {\n        path:'',\n        redirectTo:\"all\"\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PackageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PackageRoutingModule } from './package-routing.module';\nimport { PackagesComponent } from './packages/packages.component';\nimport { CreatePackageComponent } from './create-package/create-package.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DataTablesModule } from 'angular-datatables';\n\n\n@NgModule({\n  declarations: [PackagesComponent, CreatePackageComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    DataTablesModule,\n    PackageRoutingModule\n  ]\n})\nexport class PackageModule { }\n","export default \"<div class=\\\"animated fadeIn\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12\\\">\\n            <form [formGroup]=\\\"packageForm\\\" (submit)=\\\"createPackage()\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"title\\\">Title:</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter Title\\\" id=\\\"title\\\" formControlName=\\\"title\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"description\\\">Description:</label>\\n                    <textarea class=\\\"form-control\\\" rows=\\\"5\\\" id=\\\"description\\\" formControlName=\\\"description\\\"></textarea>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"price\\\">Price:</label>\\n                    <input type=\\\"number\\\" min=\\\"0\\\" class=\\\"form-control\\\" placeholder=\\\"Enter Price\\\" id=\\\"price\\\" formControlName=\\\"price\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"services\\\">Select Services:</label>\\n                    <select class=\\\"form-control\\\" id=\\\"services\\\" formControlName=\\\"services\\\" multiple>\\n                      <option *ngFor=\\\"let service of services;let i=index\\\" value=\\\"{{service.id}}\\\" [selected]=\\\"packageForm.get('services').value.indexOf(service.id)!=-1\\\">{{service.title}}</option>\\n                    </select>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label for=\\\"service_type\\\">Select Service Type:</label>\\n                    <select class=\\\"form-control\\\" id=\\\"service_type\\\" formControlName=\\\"service_type\\\">\\n                      <option value=\\\"Private Sector\\\">Private Sector</option>\\n                      <option value=\\\"Federal\\\">Federal</option>\\n                    </select>\\n                </div>\\n                  \\n                <button type=\\\"submit\\\" [disabled]=\\\"!packageForm.valid\\\" class=\\\"btn btn-success float-right\\\">{{btnText}}</button>\\n            </form>\\n        </div>\\n    </div>\\n</div>\";","export default \"<div class=\\\"animated fadeIn\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-sm-12\\\">\\n            <table datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\" class=\\\"table\\\">\\n                <thead>\\n                  <tr>\\n                    <th>#</th>\\n                    <th>Title</th>\\n                    <th>Description</th>\\n                    <th>Price</th>\\n                    <th>Services</th>\\n                    <th>Service Type</th>\\n                    <th>Actions</th>\\n                  </tr>\\n                </thead>\\n                <tbody *ngIf=\\\"packages?.length != 0\\\">\\n                  <tr *ngFor=\\\"let package of packages; let i = index\\\">\\n                    <td>{{ i + 1 }}</td>\\n                    <td>{{ package.title }}</td>\\n                    <td>{{ package.description }}</td>\\n                    <td>{{ package.price }}</td>\\n                    <td>\\n                        <p *ngFor=\\\"let service of package.services\\\">{{service.title}}</p>\\n                    </td>\\n                    <td>{{ package.service_types[0].name }}</td>\\n                    <td>\\n                        <a routerLink=\\\"../edit/{{package.id}}\\\" class=\\\"btn btn-primary\\\"><i class=\\\"fa fa-edit\\\"></i></a>\\n                        <a href=\\\"javascript:;\\\" (click)=\\\"deletePackage(package.id)\\\" class=\\\"btn btn-danger\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\n                    </td>\\n                  </tr>\\n                </tbody>\\n                <tbody *ngIf=\\\"packages?.length == 0\\\">\\n                    <tr>\\n                        <td colspan=\\\"6\\\" class=\\\"no-data-available text-center\\\">No data!</td>\\n                    </tr>\\n                </tbody>\\n            </table>\\n        </div>\\n    </div>\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjcmVhdGUtcGFja2FnZS5jb21wb25lbnQuc2NzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwYWNrYWdlcy5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { AdminService } from '../../admin.service';\n\n@Component({\n  selector: 'app-packages',\n  templateUrl: './packages.component.html',\n  styleUrls: ['./packages.component.scss']\n})\nexport class PackagesComponent implements OnInit,OnDestroy {\n  dtOptions : DataTables.Settings = {};\n  dtTrigger : Subject<any>        = new Subject<any>();\n  packages  : any                 = [];\n  dtInitial : boolean             = false\n  constructor(\n    private as:AdminService\n  ) { }\n\n  ngOnInit(): void {\n    this.getPackages();\n  }\n\n  getPackages(){\n    this.as.getAllPackages().subscribe((res)=>{\n      this.packages = res.packages;\n      this.dtTrigger.next();\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n  deletePackage(id){\n    this.as.deletePackageById(id).subscribe((res)=>{\n      console.log(res);\n      this.getPackages();\n    },\n    (error)=>{\n      console.log(error);\n    })\n  }\n\n  ngOnDestroy(): void {\n    // Do not forget to unsubscribe the event\n    this.dtTrigger.unsubscribe();\n  }\n\n}\n"]}